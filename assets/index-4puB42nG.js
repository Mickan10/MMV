(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function XE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var im={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function cb(){if(rv)return Ol;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var sv;function hb(){return sv||(sv=1,im.exports=cb()),im.exports}var S=hb(),rm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function fb(){if(av)return Re;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Q={};function F(N,ne,te){this.props=N,this.context=ne,this.refs=Q,this.updater=te||M}F.prototype.isReactComponent={},F.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=F.prototype;function ae(N,ne,te){this.props=N,this.context=ne,this.refs=Q,this.updater=te||M}var re=ae.prototype=new $;re.constructor=ae,V(re,F.prototype),re.isPureReactComponent=!0;var he=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function x(N,ne,te,se,ge,Ce){return te=Ce.ref,{$$typeof:r,type:N,key:ne,ref:te!==void 0?te:null,props:Ce}}function R(N,ne){return x(N.type,ne,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(te){return ne[te]})}var P=/\/+/g;function U(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):ne.toString(36)}function D(){}function lt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Fe(N,ne,te,se,ge){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=N._init,Fe(Ae(N._payload),ne,te,se,ge)}}if(Ae)return ge=ge(N),Ae=se===""?"."+U(N,0):se,he(ge)?(te="",Ae!=null&&(te=Ae.replace(P,"$&/")+"/"),Fe(ge,ne,te,"",function(Fn){return Fn})):ge!=null&&(C(ge)&&(ge=R(ge,te+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Ae)),ne.push(ge)),1;Ae=0;var Nt=se===""?".":se+":";if(he(N))for(var Je=0;Je<N.length;Je++)se=N[Je],Ce=Nt+U(se,Je),Ae+=Fe(se,ne,te,Ce,ge);else if(Je=b(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(se=N.next()).done;)se=se.value,Ce=Nt+U(se,Je++),Ae+=Fe(se,ne,te,Ce,ge);else if(Ce==="object"){if(typeof N.then=="function")return Fe(lt(N),ne,te,se,ge);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(N,ne,te){if(N==null)return N;var se=[],ge=0;return Fe(N,se,"","",function(Ce){return ne.call(te,Ce,ge++)}),se}function le(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(te){(N._status===0||N._status===-1)&&(N._status=1,N._result=te)},function(te){(N._status===0||N._status===-1)&&(N._status=2,N._result=te)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Re.Children={map:Y,forEach:function(N,ne,te){Y(N,function(){ne.apply(this,arguments)},te)},count:function(N){var ne=0;return Y(N,function(){ne++}),ne},toArray:function(N){return Y(N,function(ne){return ne})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ae,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Z.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ne,te){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=V({},N.props),ge=N.key,Ce=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ue.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(se[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=te;else if(1<Ae){for(var Nt=Array(Ae),Je=0;Je<Ae;Je++)Nt[Je]=arguments[Je+2];se.children=Nt}return x(N.type,ge,void 0,void 0,Ce,se)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ne,te){var se,ge={},Ce=null;if(ne!=null)for(se in ne.key!==void 0&&(Ce=""+ne.key),ne)ue.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var Ae=arguments.length-2;if(Ae===1)ge.children=te;else if(1<Ae){for(var Nt=Array(Ae),Je=0;Je<Ae;Je++)Nt[Je]=arguments[Je+2];ge.children=Nt}if(N&&N.defaultProps)for(se in Ae=N.defaultProps,Ae)ge[se]===void 0&&(ge[se]=Ae[se]);return x(N,Ce,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=C,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:le}},Re.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},Re.startTransition=function(N){var ne=Z.T,te={};Z.T=te;try{var se=N(),ge=Z.S;ge!==null&&ge(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,me)}catch(Ce){me(Ce)}finally{Z.T=ne}},Re.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Re.use=function(N){return Z.H.use(N)},Re.useActionState=function(N,ne,te){return Z.H.useActionState(N,ne,te)},Re.useCallback=function(N,ne){return Z.H.useCallback(N,ne)},Re.useContext=function(N){return Z.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ne){return Z.H.useDeferredValue(N,ne)},Re.useEffect=function(N,ne,te){var se=Z.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,ne)},Re.useId=function(){return Z.H.useId()},Re.useImperativeHandle=function(N,ne,te){return Z.H.useImperativeHandle(N,ne,te)},Re.useInsertionEffect=function(N,ne){return Z.H.useInsertionEffect(N,ne)},Re.useLayoutEffect=function(N,ne){return Z.H.useLayoutEffect(N,ne)},Re.useMemo=function(N,ne){return Z.H.useMemo(N,ne)},Re.useOptimistic=function(N,ne){return Z.H.useOptimistic(N,ne)},Re.useReducer=function(N,ne,te){return Z.H.useReducer(N,ne,te)},Re.useRef=function(N){return Z.H.useRef(N)},Re.useState=function(N){return Z.H.useState(N)},Re.useSyncExternalStore=function(N,ne,te){return Z.H.useSyncExternalStore(N,ne,te)},Re.useTransition=function(){return Z.H.useTransition()},Re.version="19.1.0",Re}var ov;function $m(){return ov||(ov=1,rm.exports=fb()),rm.exports}var q=$m();const $E=XE(q);var sm={exports:{}},kl={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function db(){return lv||(lv=1,function(r){function e(Y,le){var me=Y.length;Y.push(le);e:for(;0<me;){var je=me-1>>>1,N=Y[je];if(0<o(N,le))Y[je]=le,Y[me]=N,me=je;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],me=Y.pop();if(me!==le){Y[0]=me;e:for(var je=0,N=Y.length,ne=N>>>1;je<ne;){var te=2*(je+1)-1,se=Y[te],ge=te+1,Ce=Y[ge];if(0>o(se,me))ge<N&&0>o(Ce,se)?(Y[je]=Ce,Y[ge]=me,je=ge):(Y[je]=se,Y[te]=me,je=te);else if(ge<N&&0>o(Ce,me))Y[je]=Ce,Y[ge]=me,je=ge;else break e}}return le}function o(Y,le){var me=Y.sortIndex-le.sortIndex;return me!==0?me:Y.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,b=3,M=!1,V=!1,Q=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he(Y){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Y)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function Z(Y){if(Q=!1,he(Y),!V)if(n(p)!==null)V=!0,ue||(ue=!0,U());else{var le=n(g);le!==null&&Fe(Z,le.startTime-Y)}}var ue=!1,x=-1,R=5,C=-1;function O(){return F?!0:!(r.unstable_now()-C<R)}function P(){if(F=!1,ue){var Y=r.unstable_now();C=Y;var le=!0;try{e:{V=!1,Q&&(Q=!1,ae(x),x=-1),M=!0;var me=b;try{t:{for(he(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&O());){var je=w.callback;if(typeof je=="function"){w.callback=null,b=w.priorityLevel;var N=je(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){w.callback=N,he(Y),le=!0;break t}w===n(p)&&s(p),he(Y)}else s(p);w=n(p)}if(w!==null)le=!0;else{var ne=n(g);ne!==null&&Fe(Z,ne.startTime-Y),le=!1}}break e}finally{w=null,b=me,M=!1}le=void 0}}finally{le?U():ue=!1}}}var U;if(typeof re=="function")U=function(){re(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,lt=D.port2;D.port1.onmessage=P,U=function(){lt.postMessage(null)}}else U=function(){$(P,0)};function Fe(Y,le){x=$(function(){Y(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var me=b;b=le;try{return Y()}finally{b=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=b;b=Y;try{return le()}finally{b=me}},r.unstable_scheduleCallback=function(Y,le,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,Y={id:E++,callback:le,priorityLevel:Y,startTime:me,expirationTime:N,sortIndex:-1},me>je?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(Q?(ae(x),x=-1):Q=!0,Fe(Z,me-je))):(Y.sortIndex=N,e(p,Y),V||M||(V=!0,ue||(ue=!0,U()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var le=b;return function(){var me=b;b=le;try{return Y.apply(this,arguments)}finally{b=me}}}}(om)),om}var uv;function mb(){return uv||(uv=1,am.exports=db()),am.exports}var lm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function pb(){if(cv)return Yt;cv=1;var r=$m();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var hv;function gb(){if(hv)return lm.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=pb(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function yb(){if(fv)return kl;fv=1;var r=mb(),e=$m(),n=gb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case F:return"Profiler";case Q:return"StrictMode";case Z:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:lt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return lt(t(i))}catch{}}return null}var Fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ne(t){return{current:t}}function te(t){0>N||(t.current=je[N],je[N]=null,N--)}function se(t,i){N++,je[N]=t.current,t.current=i}var ge=ne(null),Ce=ne(null),Ae=ne(null),Nt=ne(null);function Je(t,i){switch(se(Ae,i),se(Ce,t),se(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=O_(i),t=k_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ge),se(ge,t)}function Fn(){te(ge),te(Ce),te(Ae)}function rr(t){t.memoizedState!==null&&se(Nt,t);var i=ge.current,a=k_(i,t.type);i!==a&&(se(Ce,t),se(ge,a))}function _i(t){Ce.current===t&&(te(ge),te(Ce)),Nt.current===t&&(te(Nt),Cl._currentValue=me)}var es=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,bo=r.unstable_shouldYield,vu=r.unstable_requestPaint,vn=r.unstable_now,nf=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,rf=r.unstable_LowPriority,Js=r.unstable_IdlePriority,Ro=r.log,Eu=r.unstable_setDisableYieldValue,ut=null,Ge=null;function un(t){if(typeof Ro=="function"&&Eu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var Kt=Math.clz32?Math.clz32:rs,Tu=Math.log,sf=Math.LN2;function rs(t){return t>>>=0,t===0?32:31-(Tu(t)/sf|0)|0}var ss=256,as=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ea(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=kn(l):(v&=T,v!==0?h=kn(v):a||(a=T&~t,a!==0&&(h=kn(a))))):(T=l&~d,T!==0?h=kn(T):v!==0?h=kn(v):a||(a=l&~t,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Co(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function Do(){var t=as;return as<<=1,(as&62914560)===0&&(as=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ei(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Kt(a),J=1<<X;T[X]=0,I[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Gn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ar(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Z_(t.type))}function Su(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var it=Math.random().toString(36).slice(2),St="__reactFiber$"+it,gt="__reactProps$"+it,En="__reactContainer$"+it,Oo="__reactEvents$"+it,af="__reactListeners$"+it,or="__reactHandles$"+it,Au="__reactResources$"+it,ls="__reactMarker$"+it;function lr(t){delete t[St],delete t[gt],delete t[Oo],delete t[af],delete t[or]}function Ti(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=L_(t);t!==null;){if(a=t[St])return a;t=L_(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[St]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ls]=!0}var ko=new Set,na={};function Mn(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(na[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},us={};function Ru(t){return es.call(us,t)?!0:es.call(wu,t)?!1:bu.test(t)?us[t]=!0:(wu[t]=!0,!1)}function ur(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var cs,Cu;function Ai(t){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+Cu}var ia=!1;function ra(t,i){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){H=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function Mo(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return ra(t.type,!1);case 11:return ra(t.type.render,!1);case 1:return ra(t.type,!0);case 31:return Ai("Activity");default:return""}}function sa(t){try{var i="";do i+=Mo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function of(t){var i=Vo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function aa(t){t._valueTracker||(t._valueTracker=of(t))}function Po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lf=/[\n"\\]/g;function yt(t){return t.replace(lf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?cr(t,v,en(i)):a!=null?cr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function fs(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function cr(t,i,a){i==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Iu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Iu(t,d,i[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(t){return cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wi=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,Ci=null;function jo(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Po(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bi(t,!!a.multiple,i,!1)}}}var Xn=!1;function Du(t,i,a){if(Xn)return t(i,a);Xn=!0;try{var l=t(i);return l}finally{if(Xn=!1,(Ri!==null||Ci!==null)&&(Sc(),Ri&&(i=Ri,t=Ci,Ci=Ri=null,jo(i),t)))for(i=0;i<t.length;i++)jo(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Vn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){An=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{An=!1}var $n=null,hr=null,Ii=null;function zo(){if(Ii)return Ii;var t,i=hr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Bo(){return!1}function xt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Bo,this.isPropagationStopped=Bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=xt(qe),ys=E({},qe,{view:0,detail:0}),Nu=xt(ys),ua,ca,Jn,_s=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(ua=t.screenX-Jn.screenX,ca=t.screenY-Jn.screenY):ca=ua=0,Jn=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),bn=xt(_s),xu=E({},_s,{dataTransfer:0}),hf=xt(xu),vs=E({},ys,{relatedTarget:0}),ha=xt(vs),qo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=xt(qo),Ou=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),da=xt(Ou),ff=E({},qe,{data:0}),Ho=xt(ff),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Ts(){return Fo}var Vu=E({},ys,{key:function(t){if(t.key){var i=Es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ma=xt(Vu),Pu=E({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=xt(Pu),Di=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Lu=xt(Di),Uu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=xt(Uu),zu=E({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=xt(zu),tn=E({},qe,{newState:0,oldState:0}),Bu=xt(tn),qu=[9,13,27,32],ei=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var y=Vn&&"TextEvent"in window&&!c,_=Vn&&(!ei||c&&8<c&&11>=c),A=" ",j=!1;function K(t,i){switch(t){case"keyup":return qu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function At(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!ei&&K(t,i)?(t=zo(),Ii=hr=$n=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Ni(t,i,a,l){Ri?Ci?Ci.push(l):Ci=[l]:Ri=l,i=Ic(i,"onChange"),0<i.length&&(a=new la("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ti=null;function Ko(t){C_(t,0)}function Hu(t){var i=Qn(t);if(Po(i))return t}function Yp(t,i){if(t==="change")return i}var Xp=!1;if(Vn){var df;if(Vn){var mf="oninput"in document;if(!mf){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),mf=typeof $p.oninput=="function"}df=mf}else df=!1;Xp=df&&(!document.documentMode||9<document.documentMode)}function Wp(){Ut&&(Ut.detachEvent("onpropertychange",Zp),ti=Ut=null)}function Zp(t){if(t.propertyName==="value"&&Hu(ti)){var i=[];Ni(i,ti,t,Sn(t)),Du(Ko,i)}}function zS(t,i,a){t==="focusin"?(Wp(),Ut=i,ti=a,Ut.attachEvent("onpropertychange",Zp)):t==="focusout"&&Wp()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(ti)}function qS(t,i){if(t==="click")return Hu(i)}function HS(t,i){if(t==="input"||t==="change")return Hu(i)}function FS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:FS;function Qo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!es.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,i){var a=Jp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hs(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var GS=Vn&&"documentMode"in document&&11>=document.documentMode,ga=null,gf=null,Yo=null,yf=!1;function ig(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||ga==null||ga!==hs(l)||(l=ga,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Ic(gf,"onSelect"),0<l.length&&(i=new la("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ga)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ya={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},_f={},rg={};Vn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function As(t){if(_f[t])return _f[t];if(!ya[t])return t;var i=ya[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return _f[t]=i[a];return t}var sg=As("animationend"),ag=As("animationiteration"),og=As("animationstart"),KS=As("transitionrun"),QS=As("transitionstart"),YS=As("transitioncancel"),lg=As("transitionend"),ug=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Pn(t,i){ug.set(t,i),Mn(i,[t])}var cg=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:sa(i)},cg.set(t,i),i)}return{value:t,source:i,stack:sa(i)}}var Rn=[],_a=0,Ef=0;function Fu(){for(var t=_a,i=Ef=_a=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Gu(t,i,a,l){Rn[_a++]=t,Rn[_a++]=i,Rn[_a++]=a,Rn[_a++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Gu(t,i,a,l),Ku(t)}function va(t,i){return Gu(t,null,null,i),Ku(t)}function hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<vl)throw vl=0,Cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function XS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new XS(t,i,a,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Sf(t)&&(v=1);else if(typeof t=="string")v=WA(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=fn(31,a,i,h),t.elementType=C,t.lanes=d,t;case V:return bs(a.children,h,d,i);case Q:v=8,h|=24;break;case F:return t=fn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case Z:return t=fn(13,a,i,h),t.elementType=Z,t.lanes=d,t;case ue:return t=fn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case re:v=10;break e;case ae:v=9;break e;case he:v=11;break e;case x:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function bs(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function Af(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function bf(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ta=[],Sa=0,Yu=null,Xu=0,Cn=[],In=0,ws=null,Oi=1,ki="";function Rs(t,i){Ta[Sa++]=Xu,Ta[Sa++]=Yu,Yu=t,Xu=i}function dg(t,i,a){Cn[In++]=Oi,Cn[In++]=ki,Cn[In++]=ws,ws=t;var l=Oi;t=ki;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Kt(i)+h|a<<h|l,ki=d+t}else Oi=1<<d|a<<h|l,ki=t}function wf(t){t.return!==null&&(Rs(t,1),dg(t,1,0))}function Rf(t){for(;t===Yu;)Yu=Ta[--Sa],Ta[Sa]=null,Xu=Ta[--Sa],Ta[Sa]=null;for(;t===ws;)ws=Cn[--In],Cn[In]=null,ki=Cn[--In],Cn[In]=null,Oi=Cn[--In],Cn[In]=null}var nn=null,ct=null,Be=!1,Cs=null,ni=!1,Cf=Error(s(519));function Is(t){var i=Error(s(418,""));throw Wo(wn(i,t)),Cf}function mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[gt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)xe(Tl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),aa(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),ds(i,l.value,l.defaultValue,l.children),aa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||Is(t)}function pg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function Xo(t){if(t!==nn)return!1;if(!Be)return pg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&ct&&Is(t),pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Cr(t.type)?(t=Qd,Qd=null,ct=t):ct=i):ct=nn?Un(t.stateNode.nextSibling):null;return!0}function $o(){ct=nn=null,Be=!1}function gg(){var t=Cs;return t!==null&&(an===null?an=t:an.push.apply(an,t),Cs=null),t}function Wo(t){Cs===null?Cs=[t]:Cs.push(t)}var If=ne(null),Ds=null,Mi=null;function fr(t,i,a){se(If,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=If.current,te(If)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Zo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){Ds=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return yg(Ds,t)}function Wu(t,i){return Ds===null&&Ns(t),yg(t,i)}function yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var $S=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},WS=r.unstable_scheduleCallback,ZS=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new $S,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&WS(ZS,function(){t.controller.abort()})}var el=null,Of=0,Aa=0,ba=null;function JS(t,i){if(el===null){var a=el=[];Of=0,Aa=Md(),ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(_g,_g),i}function _g(){if(--Of===0&&el!==null){ba!==null&&(ba.status="fulfilled");var t=el;el=null,Aa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vg=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JS(t,i),vg!==null&&vg(t,i)};var xs=ne(null);function kf(){var t=xs.current;return t!==null?t:et.pooledCache}function Zu(t,i){i===null?se(xs,xs.current):se(xs,i.pool)}function Eg(){var t=kf();return t===null?null:{parent:wt._currentValue,pool:t}}var tl=Error(s(460)),Tg=Error(s(474)),Ju=Error(s(542)),Mf={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ec,ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wg(t),t;default:if(typeof i.status=="string")i.then(ec,ec);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wg(t),t}throw nl=i,tl}}var nl=null;function bg(){if(nl===null)throw Error(s(459));var t=nl;return nl=null,t}function wg(t){if(t===tl||t===Ju)throw Error(s(483))}var dr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),hg(t,null,a),i}return Gu(t,l,i,a),Ku(t)}function il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function rl(){if(Uf){var t=ba;if(t!==null)throw t}}function sl(t,i,a,l){Uf=!1;var h=t.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,X=B=I=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===Aa&&(Uf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,_e=T;H=i;var We=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){J=Se.call(We,J,H);break e}J=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,H=typeof Se=="function"?Se.call(We,J,H):Se,H==null)break e;J=E({},J,H);break e;case 2:dr=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=G,I=J):X=X.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ar|=v,t.lanes=v,t.memoizedState=J}}function Rg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Cg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],i)}var wa=ne(null),tc=ne(0);function Ig(t,i){t=qi,se(tc,t),se(wa,i),qi=t|i.baseLanes}function jf(){se(tc,qi),se(wa,wa.current)}function zf(){qi=tc.current,te(wa),te(tc)}var gr=0,Ie=null,Xe=null,_t=null,nc=!1,Ra=!1,Os=!1,ic=0,al=0,Ca=null,tA=0;function dt(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return gr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?hy:fy,Os=!1,d=a(l,h),Os=!1,Ra&&(d=Ng(i,a,l,h)),Dg(t),d}function Dg(t){Y.H=uc;var i=Xe!==null&&Xe.next!==null;if(gr=0,_t=Xe=Ie=null,nc=!1,al=0,Ca=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&$u(t)&&(kt=!0))}function Ng(t,i,a,l){Ie=t;var h=0;do{if(Ra&&(Ca=null),al=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=lA,d=i(a,l)}while(Ra);return d}function nA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Hf(){var t=ic!==0;return ic=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}gr=0,_t=Xe=Ie=null,Ra=!1,al=ic=0,Ca=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=_t===null?Ie.memoizedState:_t.next;if(i!==null)_t=i,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Ie.memoizedState=_t=t:_t=_t.next=t}return _t}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=al;return al+=1,Ca===null&&(Ca=[]),t=Ag(Ca,t,i),i=Ie,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?hy:fy),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===re)return Qt(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Kf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Pi(t,i){return typeof i=="function"?i(t):i}function sc(t){var i=vt();return Yf(i,Xe,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(gr&J)===J){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Aa&&(X=!0);else if((gr&H)===H){B=B.next,H===Aa&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=H,Ar|=H;J=B.action,Os&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=J,Ar|=J;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!hn(d,t.memoizedState)&&(kt=!0,X&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(t,i,a){var l=Ie,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,kt=!0),h=h.queue;var T=Mg.bind(null,l,h,t);if(ll(2048,8,T,[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ia(9,ac(),kg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(gr&124)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Kf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function kg(t,i,a,l){i.value=a,i.getSnapshot=l,Vg(i)&&Pg(t)}function Mg(t,i,a){return a(function(){Vg(i)&&Pg(t)})}function Vg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function Pg(t){var i=va(t,2);i!==null&&yn(i,t,2)}function $f(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Os){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function Lg(t,i,a,l){return t.baseState=a,Yf(t,Xe,typeof l=="function"?l:Pi)}function iA(t,i,a,l,h){if(lc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),jg(t,i,T)}catch(B){Wf(t,i,B)}finally{Y.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(B){Wf(t,i,B)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Wf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qg(t,i){return i}function Hg(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ie;if(Be){if(ct){t:{for(var h=ct,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Un(h.nextSibling),l=h.data==="F!";break e}}Is(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ie,l),l.dispatch=a,l=$f(!1),d=nd.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=iA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=vt();return Gg(i,Xe,t)}function Gg(t,i,a){if(i=Yf(t,i,qg)[0],t=sc(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(v){throw v===tl?Ju:v}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ia(9,ac(),rA.bind(null,h,a),null)),[l,d,t]}function rA(t,i){t.action=i}function Kg(t){var i=vt(),a=Xe;if(a!==null)return Gg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ia(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Kf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function Qg(){return vt().memoizedState}function oc(t,i,a,l){var h=rn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ia(1|i,ac(),a,l)}function ll(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Bf(l,Xe.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ia(1|i,d,a,l))}function Yg(t,i){oc(8390656,8,t,i)}function Xg(t,i){ll(2048,8,t,i)}function $g(t,i){return ll(4,2,t,i)}function Wg(t,i){return ll(4,4,t,i)}function Zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,ll(4,4,Zg.bind(null,i,t),a)}function Zf(){}function ey(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Os){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function Jf(t,i,a){return a===void 0||(gr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=r_(),Ie.lanes|=t,Ar|=t,a)}function ny(t,i,a,l){return hn(a,i)?a:wa.current!==null?(t=Jf(t,a,l),hn(t,i)||(kt=!0),t):(gr&42)===0?(kt=!0,t.memoizedState=a):(t=r_(),Ie.lanes|=t,Ar|=t,i)}function iy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,nd(t,!1,i,a);try{var I=h(),B=Y.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=eA(I,l);ul(t,i,X,gn(t))}else ul(t,i,l,gn(t))}catch(J){ul(t,i,{then:function(){},status:"rejected",reason:J},gn())}finally{le.p=d,Y.T=v}}function sA(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ry(t).queue;iy(t,h,i,me,a===null?sA:function(){return sy(t),a(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=ry(t).next.queue;ul(t,i,{},gn())}function td(){return Qt(Cl)}function ay(){return vt().memoizedState}function oy(){return vt().memoizedState}function aA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=mr(a);var l=pr(i,t,a);l!==null&&(yn(l,i,a),il(l,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function oA(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?uy(i,a):(a=Tf(t,i,a,l),a!==null&&(yn(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=gn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Gu(t,i,h,0),et===null&&Fu(),!1}catch{}finally{}if(a=Tf(t,i,h,l),a!==null)return yn(a,t,l),cy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&yn(i,t,2)}function lc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function uy(t,i){Ra=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var uc={readContext:Qt,use:rc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},hy={readContext:Qt,use:rc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,Zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Os){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Os){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=ly.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=rn();return Jf(a,t,i)},useTransition:function(){var t=$f(!1);return t=iy.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Mg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,ac(),kg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Be){var a=ki,l=Oi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=tA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return rn().memoizedState=aA.bind(null,Ie)}},fy={readContext:Qt,use:rc,useCallback:ey,useContext:Qt,useEffect:Xg,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Wg,useMemo:ty,useReducer:sc,useRef:Qg,useState:function(){return sc(Pi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=vt();return ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=sc(Pi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:xg,useId:ay,useHostTransitionStatus:td,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=vt();return Lg(a,Xe,t,i)},useMemoCache:Qf,useCacheRefresh:oy},lA={readContext:Qt,use:rc,useCallback:ey,useContext:Qt,useEffect:Xg,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Wg,useMemo:ty,useReducer:Xf,useRef:Qg,useState:function(){return Xf(Pi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Jf(a,t,i):ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Xf(Pi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:xg,useId:ay,useHostTransitionStatus:td,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=vt();return Xe!==null?Lg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:oy},Da=null,cl=0;function cc(t){var i=cl;return cl+=1,Da===null&&(Da=[]),Ag(Da,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){var i=t._init;return i(t._payload)}function my(t){function i(L,k){if(t){var z=L.deletions;z===null?(L.deletions=[k],L.flags|=16):z.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=xi(L,k),L.index=0,L.sibling=null,L}function d(L,k,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<k?(L.flags|=67108866,k):z):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,z,W){return k===null||k.tag!==6?(k=Af(z,L.mode,W),k.return=L,k):(k=h(k,z),k.return=L,k)}function I(L,k,z,W){var fe=z.type;return fe===V?X(L,k,z.props.children,W,z.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&dy(fe)===k.type)?(k=h(k,z.props),hl(k,z),k.return=L,k):(k=Qu(z.type,z.key,z.props,null,L.mode,W),hl(k,z),k.return=L,k)}function B(L,k,z,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=bf(z,L.mode,W),k.return=L,k):(k=h(k,z.children||[]),k.return=L,k)}function X(L,k,z,W,fe){return k===null||k.tag!==7?(k=bs(z,L.mode,W,fe),k.return=L,k):(k=h(k,z),k.return=L,k)}function J(L,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Af(""+k,L.mode,z),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return z=Qu(k.type,k.key,k.props,null,L.mode,z),hl(z,k),z.return=L,z;case M:return k=bf(k,L.mode,z),k.return=L,k;case R:var W=k._init;return k=W(k._payload),J(L,k,z)}if(Fe(k)||U(k))return k=bs(k,L.mode,z,null),k.return=L,k;if(typeof k.then=="function")return J(L,cc(k),z);if(k.$$typeof===re)return J(L,Wu(L,k),z);hc(L,k)}return null}function H(L,k,z,W){var fe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(L,k,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===fe?I(L,k,z,W):null;case M:return z.key===fe?B(L,k,z,W):null;case R:return fe=z._init,z=fe(z._payload),H(L,k,z,W)}if(Fe(z)||U(z))return fe!==null?null:X(L,k,z,W,null);if(typeof z.then=="function")return H(L,k,cc(z),W);if(z.$$typeof===re)return H(L,k,Wu(L,z),W);hc(L,z)}return null}function G(L,k,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,T(k,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return L=L.get(W.key===null?z:W.key)||null,I(k,L,W,fe);case M:return L=L.get(W.key===null?z:W.key)||null,B(k,L,W,fe);case R:var De=W._init;return W=De(W._payload),G(L,k,z,W,fe)}if(Fe(W)||U(W))return L=L.get(z)||null,X(k,L,W,fe,null);if(typeof W.then=="function")return G(L,k,z,cc(W),fe);if(W.$$typeof===re)return G(L,k,z,Wu(k,W),fe);hc(k,W)}return null}function Se(L,k,z,W){for(var fe=null,De=null,pe=k,ve=k=0,Vt=null;pe!==null&&ve<z.length;ve++){pe.index>ve?(Vt=pe,pe=null):Vt=pe.sibling;var ze=H(L,pe,z[ve],W);if(ze===null){pe===null&&(pe=Vt);break}t&&pe&&ze.alternate===null&&i(L,pe),k=d(ze,k,ve),De===null?fe=ze:De.sibling=ze,De=ze,pe=Vt}if(ve===z.length)return a(L,pe),Be&&Rs(L,ve),fe;if(pe===null){for(;ve<z.length;ve++)pe=J(L,z[ve],W),pe!==null&&(k=d(pe,k,ve),De===null?fe=pe:De.sibling=pe,De=pe);return Be&&Rs(L,ve),fe}for(pe=l(pe);ve<z.length;ve++)Vt=G(pe,L,ve,z[ve],W),Vt!==null&&(t&&Vt.alternate!==null&&pe.delete(Vt.key===null?ve:Vt.key),k=d(Vt,k,ve),De===null?fe=Vt:De.sibling=Vt,De=Vt);return t&&pe.forEach(function(Or){return i(L,Or)}),Be&&Rs(L,ve),fe}function _e(L,k,z,W){if(z==null)throw Error(s(151));for(var fe=null,De=null,pe=k,ve=k=0,Vt=null,ze=z.next();pe!==null&&!ze.done;ve++,ze=z.next()){pe.index>ve?(Vt=pe,pe=null):Vt=pe.sibling;var Or=H(L,pe,ze.value,W);if(Or===null){pe===null&&(pe=Vt);break}t&&pe&&Or.alternate===null&&i(L,pe),k=d(Or,k,ve),De===null?fe=Or:De.sibling=Or,De=Or,pe=Vt}if(ze.done)return a(L,pe),Be&&Rs(L,ve),fe;if(pe===null){for(;!ze.done;ve++,ze=z.next())ze=J(L,ze.value,W),ze!==null&&(k=d(ze,k,ve),De===null?fe=ze:De.sibling=ze,De=ze);return Be&&Rs(L,ve),fe}for(pe=l(pe);!ze.done;ve++,ze=z.next())ze=G(pe,L,ve,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),k=d(ze,k,ve),De===null?fe=ze:De.sibling=ze,De=ze);return t&&pe.forEach(function(ub){return i(L,ub)}),Be&&Rs(L,ve),fe}function We(L,k,z,W){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var fe=z.key;k!==null;){if(k.key===fe){if(fe=z.type,fe===V){if(k.tag===7){a(L,k.sibling),W=h(k,z.props.children),W.return=L,L=W;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&dy(fe)===k.type){a(L,k.sibling),W=h(k,z.props),hl(W,z),W.return=L,L=W;break e}a(L,k);break}else i(L,k);k=k.sibling}z.type===V?(W=bs(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=Qu(z.type,z.key,z.props,null,L.mode,W),hl(W,z),W.return=L,L=W)}return v(L);case M:e:{for(fe=z.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(L,k.sibling),W=h(k,z.children||[]),W.return=L,L=W;break e}else{a(L,k);break}else i(L,k);k=k.sibling}W=bf(z,L.mode,W),W.return=L,L=W}return v(L);case R:return fe=z._init,z=fe(z._payload),We(L,k,z,W)}if(Fe(z))return Se(L,k,z,W);if(U(z)){if(fe=U(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),_e(L,k,z,W)}if(typeof z.then=="function")return We(L,k,cc(z),W);if(z.$$typeof===re)return We(L,k,Wu(L,z),W);hc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(L,k.sibling),W=h(k,z),W.return=L,L=W):(a(L,k),W=Af(z,L.mode,W),W.return=L,L=W),v(L)):a(L,k)}return function(L,k,z,W){try{cl=0;var fe=We(L,k,z,W);return Da=null,fe}catch(pe){if(pe===tl||pe===Ju)throw pe;var De=fn(29,pe,null,L.mode);return De.lanes=W,De.return=L,De}finally{}}}var Na=my(!0),py=my(!1),Dn=ne(null),ii=null;function yr(t){var i=t.alternate;se(Rt,Rt.current&1),se(Dn,t),ii===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(ii=t)}function gy(t){if(t.tag===22){if(se(Rt,Rt.current),se(Dn,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else _r()}function _r(){se(Rt,Rt.current),se(Dn,Dn.current)}function Li(t){te(Dn),ii===t&&(ii=null),te(Rt)}var Rt=ne(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function id(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(t,l,a),i!==null&&(yn(i,t,a),il(i,t,a))}};function yy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function _y(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vy(t){dc(t)}function Ey(t){console.error(t)}function Ty(t){dc(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Ay(t){return t=mr(t),t.tag=3,t}function by(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Sy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Sy(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function uA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Zo(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ii===null?Dd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),Dd(),!1}if(Be)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(t=Error(s(422),{cause:l}),Wo(wn(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),Wo(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=sd(t.stateNode,l,h),Lf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),_l===null?_l=[d]:_l.push(d),ht!==4&&(ht=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),by(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var wy=Error(s(461)),kt=!1;function jt(t,i,a,l){i.child=t===null?py(i,null,a,l):Na(i,t.child,a,l)}function Ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ns(i),l=qf(t,i,a,v,d,h),T=Hf(),t!==null&&!kt?(Ff(t,i,h),Ui(t,i,h)):(Be&&T&&wf(i),i.flags|=1,jt(t,i,l,h),i.child)}function Cy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return ad(t,i,a,l,h)}function Dy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ny(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):jf(),gy(i);else return i.lanes=i.childLanes=536870912,Ny(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(i,d.cachePool),Ig(i,d),_r(),i.memoizedState=null):(t!==null&&Zu(i,null),jf(),_r());return jt(t,i,h,a),i.child}function Ny(t,i,a,l){var h=kf();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(i,null),jf(),gy(i),t!==null&&Zo(t,i,l,!0),null}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,h){return Ns(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!kt?(Ff(t,i,h),Ui(t,i,h)):(Be&&l&&wf(i),i.flags|=1,jt(t,i,a,h),i.child)}function xy(t,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=Ng(i,l,a,h),Dg(t),l=Hf(),t!==null&&!kt?(Ff(t,i,d),Ui(t,i,d)):(Be&&l&&wf(i),i.flags|=1,jt(t,i,a,d),i.child)}function Oy(t,i,a,l,h){if(Ns(i),i.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ea,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ks(a,T);d.props=I;var B=d.context,X=a.contextType;v=Ea,typeof X=="object"&&X!==null&&(v=Qt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&_y(i,d,l,v),dr=!1;var H=i.memoizedState;d.state=H,sl(i,l,d,h),rl(),B=i.memoizedState,T||H!==B||dr?(typeof J=="function"&&(id(i,a,J,l),B=i.memoizedState),(I=dr||yy(i,a,I,l,H,B,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),v=i.memoizedProps,X=ks(a,v),d.props=X,J=i.pendingProps,H=d.context,B=a.contextType,I=Ea,typeof B=="object"&&B!==null&&(I=Qt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==I)&&_y(i,d,l,I),dr=!1,H=i.memoizedState,d.state=H,sl(i,l,d,h),rl();var G=i.memoizedState;v!==J||H!==G||dr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof T=="function"&&(id(i,a,T,l),G=i.memoizedState),(X=dr||yy(i,a,X,l,H,G,I)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Na(i,t.child,null,h),i.child=Na(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function ky(t,i,a,l){return $o(),i.flags|=256,jt(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Eg()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function My(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?yr(i):_r(),Be){var T=ct,I;if(I=T){e:{for(I=T,T=ni;I.nodeType!==8;){if(!T){T=null;break e}if(I=Un(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ws!==null?{id:Oi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,ct=null,I=!0):I=!1}I||Is(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Kd(T)?i.lanes=32:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=gc({mode:"hidden",children:T},h),l=bs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ld(a),h.childLanes=ud(t,v,a),i.memoizedState=od,l):(yr(i),cd(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=gc({mode:"visible",children:l.children},T),h=bs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Na(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,v,a),i.memoizedState=od,i=h);else if(yr(i),Kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(kt||Zo(t,i,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,va(t,l),yn(v,t,l),wy;T.data==="$?"||Dd(),i=hd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ct=Un(T.nextSibling),nn=i,Be=!0,Cs=null,ni=!1,t!==null&&(Cn[In++]=Oi,Cn[In++]=ki,Cn[In++]=ws,Oi=t.id,ki=t.overflow,ws=i),i=cd(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=xi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=xi(B,h):(h=bs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=ld(a):(I=T.cachePool,I!==null?(B=wt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Eg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=ud(t,v,a),i.memoizedState=od,l):(yr(i),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hd(t,i,a){return Na(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function fd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,i);else if(t.tag===19)Vy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d);break;case"together":fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Zo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function cA(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),fr(i,wt,t.memoizedState.cache),$o();break;case 27:case 5:rr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(t,i,a):(yr(i),t=Ui(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Zo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Dy(t,i,a);case 24:fr(i,wt,t.memoizedState.cache)}return Ui(t,i,a)}function Ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return kt=!1,cA(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,Be&&(i.flags&1048576)!==0&&dg(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Sf(l)?(t=ks(l,t),i.tag=1,i=Oy(null,i,l,t,a)):(i.tag=0,i=ad(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=Ry(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=Cy(null,i,l,t,a);break e}}throw i=lt(l)||l,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),Oy(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(t,i),sl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,wt,l),l!==d.cache&&Nf(i,[wt],a,!0),rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(t,i,l,a);break e}else if(l!==h){h=wn(Error(s(424)),i),Wo(h),i=ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Un(t.firstChild),nn=i,Be=!0,Cs=null,ni=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($o(),l===h){i=Ui(t,i,a);break e}jt(t,i,l,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=B_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Nc(Ae.current).createElement(a),l[St]=i,l[gt]=t,Bt(l,a,t),ft(l),i.stateNode=l):i.memoizedState=B_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rr(i),t===null&&Be&&(l=i.stateNode=U_(i.type,i.pendingProps,Ae.current),nn=i,ni=!0,h=ct,Cr(i.type)?(Qd=h,ct=Un(l.firstChild)):ct=h),jt(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=UA(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,nn=i,ct=Un(l.firstChild),ni=!1,h=!0):h=!1),h||Is(i)),rr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:v!==null&&Hd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,nA,null,null,a),Cl._currentValue=h),pc(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ct)&&(a=jA(a,i.pendingProps,ni),a!==null?(i.stateNode=a,nn=i,ct=null,t=!0):t=!1),t||Is(i)),null;case 13:return My(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Na(i,null,l,a):jt(t,i,l,a),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=Qt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return Py(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=gc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Dy(t,i,a);case 24:return Ns(i),l=Qt(wt),t===null?(h=kf(),h===null&&(h=et,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),fr(i,wt,h)):((t.lanes&a)!==0&&(Pf(t,i),sl(i,null,null,a),rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,wt,l)):(l=d.cache,fr(i,wt,l),l!==h.cache&&Nf(i,[wt],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(t){t.flags|=4}function Uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(i)){if(i=Dn.current,i!==null&&((Le&4194048)===Le?ii!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ii))throw nl=Mf,Tg;t.flags|=8192}}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Do():536870912,t.lanes|=i,Ma|=i)}function fl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function hA(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(wt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),st(i),null;case 26:return a=i.memoizedState,t===null?(ji(i),a!==null?(st(i),Uy(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ji(i),st(i),Uy(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&ji(i),st(i),i.flags&=-16777217),null;case 27:_i(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ge.current,Xo(i)?mg(i):(t=U_(h,l,a),i.stateNode=t,ji(i))}return st(i),null;case 5:if(_i(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=ge.current,Xo(i))mg(i);else{switch(h=Nc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ji(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Is(i)}else t=Nc(t).createTextNode(l),t[St]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else $o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),st(i),null;case 4:return Fn(),t===null&&Ud(i.stateNode.containerInfo),st(i),null;case 10:return Vi(i.type),st(i),null;case 19:if(te(Rt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,fl(h,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)fg(a,t),a=a.sibling;return se(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>Ec&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304)}else{if(!l)if(t=fc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*vn()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=Rt.current,se(Rt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Li(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(wt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function fA(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(wt),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _i(i),null;case 13:if(Li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$o()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Rt),null;case 4:return Fn(),null;case 10:return Vi(i.type),null;case 22:case 23:return Li(i),zf(),t!==null&&te(xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(wt),null;case 25:return null;default:return null}}function jy(t,i){switch(Rf(i),i.tag){case 3:Vi(wt),Fn();break;case 26:case 27:case 5:_i(i);break;case 4:Fn();break;case 13:Li(i);break;case 19:te(Rt);break;case 10:Vi(i.type);break;case 22:case 23:Li(i),zf(),t!==null&&te(xs);break;case 24:Vi(wt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(X){Ze(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(i,i.return,X)}}function zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Cg(i,a)}catch(l){Ze(t,t.return,l)}}}function By(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function md(t,i,a){try{var l=t.stateNode;kA(l,t.type,a,i),l[gt]=i}catch(h){Ze(t,t.return,h)}}function Hy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(gd(t,i,a),t=t.sibling;t!==null;)gd(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function Fy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[St]=t,i[gt]=a}catch(d){Ze(t,t.return,d)}}var zi=!1,mt=!1,yd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function dA(t,i){if(t=t.containerInfo,Bd=Pc,t=ng(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,X=0,J=t,H=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++X===l&&(I=v),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Pc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Ky(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(t,a),l&4&&dl(5,a);break;case 1:if(Er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&zy(a),l&512&&ml(a,a.return);break;case 3:if(Er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&Fy(a);case 26:case 5:Er(t,a),i===null&&l&4&&qy(a),l&512&&ml(a,a.return);break;case 12:Er(t,a);break;case 13:Er(t,a),l&4&&Xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=SA.bind(null,a),zA(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||mt,h=zi;var d=mt;zi=l,(mt=i)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):Er(t,a),zi=h,mt=d}break;case 30:break;default:Er(t,a)}}function Qy(t){var i=t.alternate;i!==null&&(t.alternate=null,Qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,sn=!1;function Bi(t,i,a){for(a=a.child;a!==null;)Yy(t,i,a),a=a.sibling}function Yy(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||ri(a,i),Bi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||ri(a,i);var l=rt,h=sn;Cr(a.type)&&(rt=a.stateNode,sn=!1),Bi(t,i,a),Al(a.stateNode),rt=l,sn=h;break;case 5:mt||ri(a,i);case 6:if(l=rt,h=sn,rt=null,Bi(t,i,a),rt=l,sn=h,rt!==null)if(sn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:rt!==null&&(sn?(t=rt,P_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):P_(rt,a.stateNode));break;case 4:l=rt,h=sn,rt=a.stateNode.containerInfo,sn=!0,Bi(t,i,a),rt=l,sn=h;break;case 0:case 11:case 14:case 15:mt||vr(2,a,i),mt||vr(4,a,i),Bi(t,i,a);break;case 1:mt||(ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&By(a,i,l)),Bi(t,i,a);break;case 21:Bi(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Bi(t,i,a),mt=l;break;default:Bi(t,i,a)}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){Ze(i,i.return,a)}}function mA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gy),i;default:throw Error(s(435,t.tag))}}function _d(t,i){var a=mA(t);i.forEach(function(l){var h=AA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Cr(T.type)){rt=T.stateNode,sn=!1;break e}break;case 5:rt=T.stateNode,sn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(rt===null)throw Error(s(160));Yy(d,v,h),rt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)$y(i,t),i=i.sibling}var Ln=null;function $y(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(vr(3,t,t.return),dl(3,t),vr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(mt||a===null||ri(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(dn(i,t),mn(t),l&512&&(mt||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[St]=t,ft(d),l=d;break e;case"link":var v=F_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=F_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ft(d),l=d}t.stateNode=l}else G_(h,t.type,t.stateNode);else t.stateNode=H_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?G_(h,t.type,t.stateNode):H_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(mt||a===null||ri(a,a.return)),a!==null&&l&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(mt||a===null||ri(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(G){Ze(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,md(t,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Ze(t,t.return,G)}}break;case 3:if(kc=null,h=Ln,Ln=xc(i.containerInfo),dn(i,t),Ln=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(G){Ze(t,t.return,G)}yd&&(yd=!1,Wy(t));break;case 4:l=Ln,Ln=xc(t.stateNode.containerInfo),dn(i,t),mn(t),Ln=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=zi,X=mt;if(zi=B||h,mt=X||I,dn(i,t),mt=X,zi=B,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||zi||mt||Ms(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Ze(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){Ze(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_d(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Hy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(t);_c(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=pd(t);_c(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=pd(t);gd(t,B,I);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function Ms(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Ms(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&By(i,i.return,a),Ms(i);break;case 27:Al(i.stateNode);case 26:case 5:ri(i,i.return),Ms(i);break;case 22:i.memoizedState===null&&Ms(i);break;case 30:Ms(i);break;default:Ms(i)}t=t.sibling}}function Tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),dl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Rg(I[h],T)}catch(B){Ze(l,l.return,B)}}a&&v&64&&zy(d),ml(d,d.return);break;case 27:Fy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&qy(d),ml(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ml(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(t,i,a,l),i=i.sibling}function Zy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&dl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):pl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&vd(v,i);break;case 24:si(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:si(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:xa(d,v,T,I,h),dl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?xa(d,v,T,I,h):pl(d,v):(X._visibility|=2,xa(d,v,T,I,h)),h&&B&2048&&vd(v.alternate,v);break;case 24:xa(d,v,T,I,h),h&&B&2048&&Ed(v.alternate,v);break;default:xa(d,v,T,I,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&vd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Ed(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Oa(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 26:Oa(t),t.flags&gl&&t.memoizedState!==null&&JA(Ln,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var i=Ln;Ln=xc(t.stateNode.containerInfo),Oa(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,Oa(t),gl=i):Oa(t));break;default:Oa(t)}}function e_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,n_(l,t)}e_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&vr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):yl(t);break;default:yl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,n_(l,t)}e_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vr(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function n_(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Qy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var pA={getCacheForType:function(t){var i=Qt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},gA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,Ne=null,Le=0,Qe=0,pn=null,Sr=!1,ka=!1,Td=!1,qi=0,ht=0,Ar=0,Vs=0,Sd=0,Nn=0,Ma=0,_l=null,an=null,Ad=!1,bd=0,Ec=1/0,Tc=null,br=null,zt=0,wr=null,Va=null,Pa=0,wd=0,Rd=null,i_=null,vl=0,Cd=null;function gn(){if((Ke&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=Aa;return t!==0?t:Md()}return ar()}function r_(){Nn===0&&(Nn=(Le&536870912)===0||Be?Io():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function yn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(La(t,0),Rr(t,Le,Nn,!1)),Ei(t,a),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(Vs|=a),ht===4&&Rr(t,Le,Nn,!1)),ai(t))}function s_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||os(t,i),h=l?vA(t,i):Nd(t,i,!0),d=l;do{if(h===0){ka&&!l&&Rr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!yA(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=_l;var I=T.current.memoizedState.isDehydrated;if(I&&(La(T,v).flags|=256),v=Nd(T,v,!1),v!==2){if(Td&&!I){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Rr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,Nn,!Sr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bd+300-vn(),10<h)){if(Rr(l,i,Nn,!Sr),ea(l,0,!0)!==0)break e;l.timeoutHandle=M_(a_.bind(null,l,a,an,Tc,Ad,i,Nn,Vs,Ma,Sr,d,2,-0,0),h);break e}a_(l,a,an,Tc,Ad,i,Nn,Vs,Ma,Sr,d,0,-0,0)}}break}while(!0);ai(t)}function a_(t,i,a,l,h,d,v,T,I,B,X,J,H,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:ZA},Jy(i),J=eb(),J!==null)){t.cancelPendingCommit=J(d_.bind(null,t,i,d,a,l,h,v,T,I,X,1,H,G)),Rr(t,d,v,!B);return}d_(t,i,d,a,l,h,v,T,I)}function yA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,a,l){i&=~Sd,i&=~Vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(t,a,i)}function Sc(){return(Ke&6)===0?(El(0),!1):!0}function Id(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Mi=Ds=null,Gf(t),Da=null,cl=0,t=Ne;for(;t!==null;)jy(t.alternate,t),t=t.return;Ne=null}}function La(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Id(),et=t,Ne=a=xi(t.current,null),Le=i,Qe=0,pn=null,Sr=!1,ka=os(t,i),Td=!1,Ma=Nn=Sd=Vs=Ar=ht=0,an=_l=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return qi=i,Fu(),a}function o_(t,i){Ie=null,Y.H=uc,i===tl||i===Ju?(i=bg(),Qe=3):i===Tg?(i=bg(),Qe=4):Qe=i===wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Ne===null&&(ht=1,mc(t,wn(i,t.current)))}function l_(){var t=Y.H;return Y.H=uc,t===null?uc:t}function u_(){var t=Y.A;return Y.A=pA,t}function Dd(){ht=4,Sr||(Le&4194048)!==Le&&Dn.current!==null||(ka=!0),(Ar&134217727)===0&&(Vs&134217727)===0||et===null||Rr(et,Le,Nn,!1)}function Nd(t,i,a){var l=Ke;Ke|=2;var h=l_(),d=u_();(et!==t||Le!==i)&&(Tc=null,La(t,i)),i=!1;var v=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,I=pn;switch(Qe){case 8:Id(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var B=Qe;if(Qe=0,pn=null,Ua(t,T,I,B),a&&ka){v=0;break e}break;default:B=Qe,Qe=0,pn=null,Ua(t,T,I,B)}}_A(),v=ht;break}catch(X){o_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Mi=Ds=null,Ke=l,Y.H=h,Y.A=d,Ne===null&&(et=null,Le=0,Fu()),v}function _A(){for(;Ne!==null;)c_(Ne)}function vA(t,i){var a=Ke;Ke|=2;var l=l_(),h=u_();et!==t||Le!==i?(Tc=null,Ec=vn()+500,La(t,i)):ka=os(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=pn;t:switch(Qe){case 1:Qe=0,pn=null,Ua(t,i,d,1);break;case 2:case 9:if(Sg(d)){Qe=0,pn=null,h_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),ai(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Sg(d)?(Qe=0,pn=null,h_(i)):(Qe=0,pn=null,Ua(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||K_(v)){Qe=0,pn=null;var I=T.sibling;if(I!==null)Ne=I;else{var B=T.return;B!==null?(Ne=B,Ac(B)):Ne=null}break t}}Qe=0,pn=null,Ua(t,i,d,5);break;case 6:Qe=0,pn=null,Ua(t,i,d,6);break;case 8:Id(),ht=6;break e;default:throw Error(s(462))}}EA();break}catch(X){o_(t,X)}while(!0);return Mi=Ds=null,Y.H=l,Y.A=h,Ke=a,Ne!==null?0:(et=null,Le=0,Fu(),ht)}function EA(){for(;Ne!==null&&!bo();)c_(Ne)}function c_(t){var i=Ly(t.alternate,t,qi);t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function h_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Gf(i);default:jy(a,i),i=Ne=fg(i,qi),i=Ly(a,i,qi)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function Ua(t,i,a,l){Mi=Ds=null,Gf(i),Da=null,cl=0;var h=i.return;try{if(uA(t,h,i,a,Le)){ht=1,mc(t,wn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,mc(t,wn(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:ka||(Le&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){f_(i,Sr);return}t=i.return;var a=hA(i.alternate,i,qi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function f_(t,i){do{var a=fA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function d_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do bc();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,No(t,a,d,v,T,I),t===et&&(Ne=et=null,Le=0),Va=i,wr=t,Pa=a,wd=d,Rd=h,i_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bA(is,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,v=Ke,Ke|=4;try{dA(t,i,a)}finally{Ke=v,le.p=h,Y.T=l}}zt=1,m_(),p_(),g_()}}function m_(){if(zt===1){zt=0;var t=wr,i=Va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{$y(i,t);var d=qd,v=ng(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&tg(T.ownerDocument.documentElement,T)){if(I!==null&&pf(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),Se=T.textContent.length,_e=Math.min(I.start,Se),We=I.end===void 0?_e:Math.min(I.end,Se);!G.extend&&_e>We&&(v=We,We=_e,_e=v);var L=eg(T,_e),k=eg(T,We);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var z=J.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),_e>We?(G.addRange(z),G.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),G.addRange(z))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Pc=!!Bd,qd=Bd=null}finally{Ke=h,le.p=l,Y.T=a}}t.current=i,zt=2}}function p_(){if(zt===2){zt=0;var t=wr,i=Va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{Ky(t,i.alternate,i)}finally{Ke=h,le.p=l,Y.T=a}}zt=3}}function g_(){if(zt===4||zt===3){zt=0,vu();var t=wr,i=Va,a=Pa,l=i_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Va=wr=null,y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(br=null),ta(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,le.p=h}}(Pa&3)!==0&&bc(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Cd?vl++:(vl=0,Cd=t):vl=0,El(0)}}function y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function bc(t){return m_(),p_(),g_(),__()}function __(){if(zt!==5)return!1;var t=wr,i=wd;wd=0;var a=ta(Pa),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=Rd,Rd=null;var d=wr,v=Pa;if(zt=0,Va=wr=null,Pa=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,t_(d.current),Zy(d,d.current,v,a),Ke=T,El(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{le.p=h,Y.T=l,y_(t,i)}}function v_(t,i,a){i=wn(a,i),i=sd(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(Ei(t,2),ai(t))}function Ze(t,i,a){if(t.tag===3)v_(t,t,a);else for(;i!==null;){if(i.tag===3){v_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){t=wn(a,t),a=Ay(2),l=pr(i,a,2),l!==null&&(by(a,l,i,t),Ei(l,2),ai(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=TA.bind(null,t,i,a),i.then(t,t))}function TA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>vn()-bd?(Ke&2)===0&&La(t,0):Sd|=a,Ma===Le&&(Ma=0)),ai(t)}function E_(t,i){i===0&&(i=Do()),t=va(t,i),t!==null&&(Ei(t,i),ai(t))}function SA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),E_(t,a)}function AA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),E_(t,a)}function bA(t,i){return ts(t,i)}var wc=null,ja=null,Od=!1,Rc=!1,kd=!1,Ps=0;function ai(t){t!==ja&&t.next===null&&(ja===null?wc=ja=t:ja=ja.next=t),Rc=!0,Od||(Od=!0,RA())}function El(t,i){if(!kd&&Rc){kd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Le,d=ea(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,b_(l,d));l=l.next}while(a);kd=!1}}function wA(){T_()}function T_(){Rc=Od=!1;var t=0;Ps!==0&&(MA()&&(t=Ps),Ps=0);for(var i=vn(),a=null,l=wc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}El(t)}function S_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Co(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Le,a=ea(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ns(l),ta(a)){case 2:case 8:a=Zs;break;case 32:a=is;break;case 268435456:a=Js;break;default:a=is}return l=A_.bind(null,t),a=ts(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=Le;return l=ea(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(s_(t,l,i),S_(t,vn()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function b_(t,i){if(bc())return null;s_(t,i,!0)}function RA(){PA(function(){(Ke&6)!==0?ts(wo,wA):T_()})}function Md(){return Ps===0&&(Ps=Io()),Ps}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oa(""+t)}function R_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function CA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[gt]||null).action),v=l.submitter;v&&(i=(i=v[gt]||null)?w_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new la("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var I=v?R_(h,v):new FormData(h);ed(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?R_(h,v):new FormData(h),ed(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<vf.length;Vd++){var Pd=vf[Vd],IA=Pd.toLowerCase(),DA=Pd[0].toUpperCase()+Pd.slice(1);Pn(IA,"on"+DA)}Pn(sg,"onAnimationEnd"),Pn(ag,"onAnimationIteration"),Pn(og,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(KS,"onTransitionRun"),Pn(QS,"onTransitionStart"),Pn(YS,"onTransitionCancel"),Pn(lg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function C_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){dc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){dc(X)}h.currentTarget=null,d=I}}}}function xe(t,i){var a=i[Oo];a===void 0&&(a=i[Oo]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Cc]){t[Cc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(NA.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Ld("selectionchange",!1,i))}}function I_(t,i,a,l){switch(Z_(i)){case 2:var h=ib;break;case 8:h=rb;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ti(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Du(function(){var B=d,X=Sn(a),J=[];e:{var H=ug.get(t);if(H!==void 0){var G=la,Se=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":G=ma;break;case"focusin":Se="focus",G=ha;break;case"focusout":Se="blur",G=ha;break;case"beforeblur":case"afterblur":G=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Lu;break;case sg:case ag:case og:G=fa;break;case lg:G=ju;break;case"scroll":case"scrollend":G=Nu;break;case"wheel":G=pa;break;case"copy":case"cut":case"paste":G=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Go;break;case"toggle":case"beforetoggle":G=Bu}var _e=(i&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var k=B,z;k!==null;){var W=k;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=ps(k,L),W!=null&&_e.push(Sl(k,W,z))),We)break;k=k.return}0<_e.length&&(H=new G(H,Se,null,a,X),J.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==wi&&(Se=a.relatedTarget||a.fromElement)&&(Ti(Se)||Se[En]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Se=a.relatedTarget||a.toElement,G=B,Se=Se?Ti(Se):null,Se!==null&&(We=u(Se),_e=Se.tag,Se!==We||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(G=null,Se=B),G!==Se)){if(_e=bn,W="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Go,W="onPointerLeave",L="onPointerEnter",k="pointer"),We=G==null?H:Qn(G),z=Se==null?H:Qn(Se),H=new _e(W,k+"leave",G,a,X),H.target=We,H.relatedTarget=z,W=null,Ti(X)===B&&(_e=new _e(L,k+"enter",Se,a,X),_e.target=z,_e.relatedTarget=We,W=_e),We=W,G&&Se)t:{for(_e=G,L=Se,k=0,z=_e;z;z=za(z))k++;for(z=0,W=L;W;W=za(W))z++;for(;0<k-z;)_e=za(_e),k--;for(;0<z-k;)L=za(L),z--;for(;k--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=za(_e),L=za(L)}_e=null}else _e=null;G!==null&&D_(J,H,G,_e,!1),Se!==null&&We!==null&&D_(J,We,Se,_e,!0)}}e:{if(H=B?Qn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var fe=Yp;else if(bt(H))if(Xp)fe=HS;else{fe=BS;var De=zS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Uo(B.elementType)&&(fe=Yp):fe=qS;if(fe&&(fe=fe(t,B))){Ni(J,fe,a,X);break e}De&&De(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&cr(H,"number",H.value)}switch(De=B?Qn(B):window,t){case"focusin":(bt(De)||De.contentEditable==="true")&&(ga=De,gf=B,Yo=null);break;case"focusout":Yo=gf=ga=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,ig(J,a,X);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":ig(J,a,X)}var pe;if(ei)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(pe=zo()):($n=X,hr="value"in $n?$n.value:$n.textContent,Ve=!0)),De=Ic(B,ve),0<De.length&&(ve=new Ho(ve,t,null,a,X),J.push({event:ve,listeners:De}),pe?ve.data=pe:(pe=oe(a),pe!==null&&(ve.data=pe)))),(pe=y?At(t,a):Pe(t,a))&&(ve=Ic(B,"onBeforeInput"),0<ve.length&&(De=new Ho("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:ve}),De.data=pe)),CA(J,t,B,a,X)}C_(J,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=ps(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=ps(a,d),B!=null&&v.unshift(Sl(a,B,I))):h||(B=ps(a,d),B!=null&&v.push(Sl(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var xA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(OA,"")}function x_(t,i){return i=N_(i),N_(t)===i}function Dc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,ur(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ur(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:$e(t,i,l,X,a,null)}}fs(t,d,T,I,B,v,h,!1),aa(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?bi(t,!!l,i,!1):a!=null&&bi(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}ds(t,l,h,d),aa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)xe(Tl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,B,l,a,null)}return;default:if(Uo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function kA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,X=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||$e(t,i,G,null,l,J)}}for(var H in l){var G=l[H];if(J=a[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&$e(t,i,H,G,l,J)}}cn(t,v,T,I,B,X,d,h);return;case"select":G=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=G,H!=null?bi(t,!!a,H,!1):!!l!=!!a&&(i!=null?bi(t,!!a,i,!0):bi(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ye(t,H,G);return;case"option":for(var Se in a)if(H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:$e(t,i,Se,null,l,H)}for(I in l)if(H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(t,i,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&$e(t,i,_e,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$e(t,i,B,H,l,G)}return;default:if(Uo(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&zd(t,i,We,void 0,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||zd(t,i,X,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&$e(t,i,L,null,l,H);for(J in l)H=l[J],G=a[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||$e(t,i,J,H,l,G)}var Bd=null,qd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function MA(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(LA)}:M_;function LA(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function P_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Al(v.documentElement),a&2&&Al(v.body),a&4)for(a=v.head,Al(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ls]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(i)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function UA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ls])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function jA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Qd=null;function L_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function U_(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var xn=new Map,j_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=le.d;le.d={f:BA,r:qA,D:HA,C:FA,L:GA,m:KA,X:YA,S:QA,M:XA};function BA(){var t=Hi.f(),i=Sc();return t||i}function qA(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):Hi.r(t)}var Ba=typeof document>"u"?null:document;function z_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j_.has(h)||(j_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ft(i),l.head.appendChild(i)))}}function HA(t){Hi.D(t),z_("dns-prefetch",t,null)}function FA(t,i){Hi.C(t,i),z_("preconnect",t,i)}function GA(t,i,a){Hi.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}xn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Bt(i,"link",t),ft(i),l.head.appendChild(i)))}}function KA(t,i){Hi.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!xn.has(d)&&(t=E({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Bt(l,"link",t),ft(l),a.head.appendChild(l)}}}function QA(t,i,a){Hi.S(t,i,a);var l=Ba;if(l&&t){var h=Jt(l).hoistableStyles,d=qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Yd(t,a);var I=v=l.createElement("link");ft(I),Bt(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function YA(t,i){Hi.X(t,i);var a=Ba;if(a&&t){var l=Jt(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},i),(i=xn.get(h))&&Xd(t,i),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(t,i){Hi.M(t,i);var a=Ba;if(a&&t){var l=Jt(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Xd(t,i),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function B_(t,i,a,l){var h=(h=Ae.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||$A(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+yt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ft(i),t.head.appendChild(i))}function Ha(t){return'[src="'+yt(t)+'"]'}function wl(t){return"script[async]"+t}function H_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Bt(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=q_(a),(h=xn.get(h))&&Yd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,ft(h),h):(l=a,(h=xn.get(d))&&(l=E({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function F_(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function G_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function ZA(){}function JA(t,i,a){if(Rl===null)throw Error(s(475));var l=Rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=q_(a),(h=xn.get(h))&&Yd(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Mc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function eb(){if(Rl===null)throw Error(s(475));var t=Rl;return t.stylesheets&&t.count===0&&$d(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&$d(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function $d(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(tb,t),Vc=null,Mc.call(t))}function tb(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function nb(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Q_(t,i,a,l,h,d,v,T,I,B,X,J){return t=new nb(t,i,a,v,T,I,B,J),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function Y_(t){return t?(t=Ea,t):Ea}function X_(t,i,a,l,h,d){h=Y_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,i),a!==null&&(yn(a,t,i),il(a,t,i))}function $_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){$_(t,i),(t=t.alternate)&&$_(t,i)}function W_(t){if(t.tag===13){var i=va(t,67108864);i!==null&&yn(i,t,67108864),Wd(t,67108864)}}var Pc=!0;function ib(t,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=2,Zd(t,i,a,l)}finally{le.p=d,Y.T=h}}function rb(t,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=8,Zd(t,i,a,l)}finally{le.p=d,Y.T=h}}function Zd(t,i,a,l){if(Pc){var h=Jd(l);if(h===null)jd(t,i,l,Lc,a),J_(t,l);else if(ab(h,t,i,a,l))l.stopPropagation();else if(J_(t,l),i&4&&-1<sb.indexOf(t)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Kt(v);T.entanglements[1]|=I,v&=~I}ai(d),(Ke&6)===0&&(Ec=vn()+500,El(0))}}break;case 13:T=va(d,2),T!==null&&yn(T,d,2),Sc(),Wd(d,2)}if(d=Jd(l),d===null&&jd(t,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function Jd(t){return t=Sn(t),em(t)}var Lc=null;function em(t){if(Lc=null,t=Ti(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function Z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nf()){case wo:return 2;case Zs:return 8;case is:case rf:return 32;case Js:return 268435456;default:return 32}default:return 32}}var tm=!1,Ir=null,Dr=null,Nr=null,Il=new Map,Dl=new Map,xr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&W_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ab(t,i,a,l,h){switch(i){case"focusin":return Ir=Nl(Ir,t,i,a,l,h),!0;case"dragenter":return Dr=Nl(Dr,t,i,a,l,h),!0;case"mouseover":return Nr=Nl(Nr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function ev(t){var i=Ti(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Su(t.priority,function(){if(a.tag===13){var l=gn();l=sr(l);var h=va(a,l);h!==null&&yn(h,a,l),Wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return i=Kn(a),i!==null&&W_(i),t.blockedOn=a,!1;i.shift()}return!0}function tv(t,i,a){Uc(t)&&a.delete(i)}function ob(){tm=!1,Ir!==null&&Uc(Ir)&&(Ir=null),Dr!==null&&Uc(Dr)&&(Dr=null),Nr!==null&&Uc(Nr)&&(Nr=null),Il.forEach(tv),Dl.forEach(tv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var zc=null;function nv(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(t){function i(I){return jc(I,t)}Ir!==null&&jc(Ir,t),Dr!==null&&jc(Dr,t),Nr!==null&&jc(Nr,t),Il.forEach(i),Dl.forEach(i);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[gt]||null;if(typeof d=="function")v||nv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[gt]||null)T=v.formAction;else if(em(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),nv(a)}}}function nm(t){this._internalRoot=t}Bc.prototype.render=nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();X_(a,l,t,i,null,null)},Bc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X_(t.current,2,null,t,null,null),Sc(),i[En]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ar();t={blockedOn:null,target:t,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,t),a===0&&ev(t)}};var iv=e.version;if(iv!=="19.1.0")throw Error(s(527,iv,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ut=qc.inject(lb),Ge=qc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=vy,d=Ey,v=Ty,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Q_(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=i.current,Ud(t),new nm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=vy,v=Ey,T=Ty,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Q_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=Y_(null),a=i.current,l=gn(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Ei(i,a),ai(i),t[En]=i.current,Ud(t),new Bc(i)},kl.version="19.1.0",kl}var dv;function _b(){if(dv)return sm.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=yb(),sm.exports}var vb=_b();const Eb=XE(vb);var Ml={},mv;function Tb(){if(mv)return Ml;mv=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=f,Ml.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const V=new u,Q=b.length;if(Q<2)return V;const F=(M==null?void 0:M.decode)||E;let $=0;do{const ae=b.indexOf("=",$);if(ae===-1)break;const re=b.indexOf(";",$),he=re===-1?Q:re;if(ae>he){$=b.lastIndexOf(";",ae-1)+1;continue}const Z=m(b,$,ae),ue=p(b,ae,Z),x=b.slice(Z,ue);if(V[x]===void 0){let R=m(b,ae+1,he),C=p(b,he,R);const O=F(b.slice(R,C));V[x]=O}$=he+1}while($<Q);return V}function m(b,M,V){do{const Q=b.charCodeAt(M);if(Q!==32&&Q!==9)return M}while(++M<V);return V}function p(b,M,V){for(;M>V;){const Q=b.charCodeAt(--M);if(Q!==32&&Q!==9)return M+1}return V}function g(b,M,V){const Q=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const F=Q(M);if(!e.test(F))throw new TypeError(`argument val is invalid: ${M}`);let $=b+"="+F;if(!V)return $;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);$+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);$+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);$+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);$+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&($+="; HttpOnly"),V.secure&&($+="; Secure"),V.partitioned&&($+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return $}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Ml}Tb();var pv="popstate";function Sb(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Am("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:$l(u))}function s(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return bb(e,n,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ab(){return Math.random().toString(36).substring(2,10)}function gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:n,key:e&&e.key||s||Ab()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function bb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=E(),$=F==null?null:F-g;g=F,p&&p({action:m,location:Q.location,delta:$})}function b(F,$){m="PUSH";let ae=Am(Q.location,F,$);n&&n(ae,F),g=E()+1;let re=gv(ae,g),he=Q.createHref(ae);try{f.pushState(re,"",he)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(he)}u&&p&&p({action:m,location:Q.location,delta:1})}function M(F,$){m="REPLACE";let ae=Am(Q.location,F,$);n&&n(ae,F),g=E();let re=gv(ae,g),he=Q.createHref(ae);f.replaceState(re,"",he),u&&p&&p({action:m,location:Q.location,delta:0})}function V(F){return wb(F)}let Q={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,w),p=F,()=>{o.removeEventListener(pv,w),p=null}},createHref(F){return e(o,F)},createURL:V,encodeLocation(F){let $=V(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:M,go(F){return f.go(F)}};return Q}function wb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function WE(r,e,n="/"){return Rb(r,e,n,!1)}function Rb(r,e,n,s){let o=typeof e=="string"?Qs(e):e,u=$i(o.pathname||"/",n);if(u==null)return null;let f=ZE(r);Cb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Ub(u);m=Pb(f[p],g,s)}return m}function ZE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Yi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ZE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Mb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of JE(u.path))o(u,f,p)}),e}function JE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=JE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Cb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Vb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ib=/^:[\w-]+$/,Db=3,Nb=2,xb=1,Ob=10,kb=-2,yv=r=>r==="*";function Mb(r,e){let n=r.split("/"),s=n.length;return n.some(yv)&&(s+=kb),e&&(s+=Nb),n.filter(o=>!yv(o)).reduce((o,u)=>o+(Ib.test(u)?Db:u===""?xb:Ob),s)}function Vb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Pb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Yi([u,w.pathname]),pathnameBase:qb(Yi([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=Yi([u,w.pathnameBase]))}return f}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Lb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},b)=>{if(E==="*"){let V=m[b]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[b];return w&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Lb(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ub(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function jb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Qs(r):r;return{pathname:n?n.startsWith("/")?n:zb(n,e):e,search:Hb(s),hash:Fb(o)}}function zb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eT(r){let e=Bb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tT(r,e,n,s=!1){let o;typeof r=="string"?o=Qs(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=jb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Yi=r=>r.join("/").replace(/\/\/+/g,"/"),qb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Fb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Gb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var nT=["POST","PUT","PATCH","DELETE"];new Set(nT);var Kb=["GET",...nT];new Set(Kb);var mo=q.createContext(null);mo.displayName="DataRouter";var Oh=q.createContext(null);Oh.displayName="DataRouterState";var iT=q.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var Qb=q.createContext(new Map);Qb.displayName="Fetchers";var Yb=q.createContext(null);Yb.displayName="Await";var yi=q.createContext(null);yi.displayName="Navigation";var au=q.createContext(null);au.displayName="Location";var nr=q.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Wm=q.createContext(null);Wm.displayName="RouteError";function Xb(r,{relative:e}={}){at(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(yi),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Yi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ou(){return q.useContext(au)!=null}function Ys(){return at(ou(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(au).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(r){q.useContext(yi).static||q.useLayoutEffect(r)}function Zm(){let{isDataRoute:r}=q.useContext(nr);return r?l1():$b()}function $b(){at(ou(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(mo),{basename:e,navigator:n}=q.useContext(yi),{matches:s}=q.useContext(nr),{pathname:o}=Ys(),u=JSON.stringify(eT(s)),f=q.useRef(!1);return sT(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(qn(f.current,rT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=tT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Yi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}q.createContext(null);function lu(r,{relative:e}={}){let{matches:n}=q.useContext(nr),{pathname:s}=Ys(),o=JSON.stringify(eT(n));return q.useMemo(()=>tT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Wb(r,e){return aT(r,e)}function aT(r,e,n,s){var ae;at(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(yi),{matches:f}=q.useContext(nr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";oT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let b=Ys(),M;if(e){let re=typeof e=="string"?Qs(e):e;at(E==="/"||((ae=re.pathname)==null?void 0:ae.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),M=re}else M=b;let V=M.pathname||"/",Q=V;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Q="/"+V.replace(/^\//,"").split("/").slice(re.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:WE(r,{pathname:Q});qn(w||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),qn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=n1(F&&F.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Yi([E,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Yi([E,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),f,n,s);return e&&$?q.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},$):$}function Zb(){let r=o1(),e=Gb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Jb=q.createElement(Zb,null),e1=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(nr.Provider,{value:this.props.routeContext},q.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t1({routeContext:r,match:e,children:n}){let s=q.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(nr.Provider,{value:r},n)}function n1(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,b=!1,M=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||Jb,f&&(m<0&&E===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):m===E&&(b=!0,V=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),F=()=>{let $;return w?$=M:b?$=V:g.route.Component?$=q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,q.createElement(t1,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(e1,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:F(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):F()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(r){let e=q.useContext(mo);return at(e,Jm(r)),e}function r1(r){let e=q.useContext(Oh);return at(e,Jm(r)),e}function s1(r){let e=q.useContext(nr);return at(e,Jm(r)),e}function ep(r){let e=s1(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function a1(){return ep("useRouteId")}function o1(){var s;let r=q.useContext(Wm),e=r1("useRouteError"),n=ep("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function l1(){let{router:r}=i1("useNavigate"),e=ep("useNavigate"),n=q.useRef(!1);return sT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{qn(n.current,rT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var _v={};function oT(r,e,n){!e&&!_v[r]&&(_v[r]=!0,qn(!1,n))}q.memo(u1);function u1({routes:r,future:e,state:n}){return aT(r,void 0,n,e)}function oi(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Qs(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:b="default"}=n,M=q.useMemo(()=>{let V=$i(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:w,key:b},navigationType:s}},[f,p,g,E,w,b,s]);return qn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:q.createElement(yi.Provider,{value:m},q.createElement(au.Provider,{children:e,value:M}))}function h1({children:r,location:e}){return Wb(bm(r),e)}function bm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,bm(s.props.children,u));return}at(s.type===oi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function f1(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function d1(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function m1(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function p1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g1(r,e){return r.button===0&&(!e||e==="_self")&&!p1(r)}var Hc=null;function y1(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!_1.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function v1(r,e){let n,s,o,u,f;if(d1(r)){let m=r.getAttribute("action");s=m?$i(m,e):null,n=r.getAttribute("method")||Wc,o=cm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(f1(r)||m1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?$i(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!y1()){let{name:g,type:E,value:w}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function E1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function S1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await E1(u,n);return f.links?f.links():[]}return[]}));return R1(s.flat(1).filter(T1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function A1(r,e,{includeHydrateFallback:n}={}){return b1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function b1(r){return[...new Set(r)]}function w1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function R1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(w1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C1=new Set([100,101,204,205]);function I1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&$i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lT(){let r=q.useContext(mo);return tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function D1(){let r=q.useContext(Oh);return tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var np=q.createContext(void 0);np.displayName="FrameworkContext";function uT(){let r=q.useContext(np);return tp(r,"You must render this element inside a <HydratedRouter> element"),r}function N1(r,e){let n=q.useContext(np),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,b=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=$=>{$.forEach(ae=>{f(ae.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,M),onBlur:Vl(p,V),onMouseEnter:Vl(g,M),onMouseLeave:Vl(E,V),onTouchStart:Vl(w,M)}]:[!1,b,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function x1({page:r,...e}){let{router:n}=lT(),s=q.useMemo(()=>WE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(k1,{page:r,matches:s,...e}):null}function O1(r){let{manifest:e,routeModules:n}=uT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return S1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function k1({page:r,matches:e,...n}){let s=Ys(),{manifest:o,routeModules:u}=uT(),{basename:f}=lT(),{loaderData:m,matches:p}=D1(),g=q.useMemo(()=>vv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=q.useMemo(()=>vv(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,Q=!1;if(e.forEach($=>{var re;let ae=o.routes[$.route.id];!ae||!ae.hasLoader||(!g.some(he=>he.route.id===$.route.id)&&$.route.id in m&&((re=u[$.route.id])!=null&&re.shouldRevalidate)||ae.hasClientLoader?Q=!0:V.add($.route.id))}),V.size===0)return[];let F=I1(r,f);return Q&&V.size>0&&F.searchParams.set("_routes",e.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),b=q.useMemo(()=>A1(E,o),[E,o]),M=O1(E);return q.createElement(q.Fragment,null,w.map(V=>q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),b.map(V=>q.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),M.map(({key:V,link:Q})=>q.createElement("link",{key:V,...Q})))}function M1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.6.0")}catch{}function V1({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Sb({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(c1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hl=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...b},M){let{basename:V}=q.useContext(yi),Q=typeof g=="string"&&hT.test(g),F,$=!1;if(typeof g=="string"&&Q&&(F=g,cT))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=$i(O.pathname,V);O.origin===C.origin&&P!=null?g=P+O.search+O.hash:$=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=Xb(g,{relative:o}),[re,he,Z]=N1(s,b),ue=U1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function x(C){e&&e(C),C.defaultPrevented||ue(C)}let R=q.createElement("a",{...b,...Z,href:F||ae,onClick:$||u?e:x,ref:M1(M,he),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return re&&!Q?q.createElement(q.Fragment,null,R,q.createElement(x1,{page:ae})):R});Hl.displayName="Link";var Us=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=lu(f,{relative:g.relative}),b=Ys(),M=q.useContext(Oh),{navigator:V,basename:Q}=q.useContext(yi),F=M!=null&&H1(w)&&m===!0,$=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,ae=b.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Q&&(re=$i(re,Q)||re);const he=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Z=ae===$||!o&&ae.startsWith($)&&ae.charAt(he)==="/",ue=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),x={isActive:Z,isPending:ue,isTransitioning:F},R=Z?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Z?"active":null,ue?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return q.createElement(Hl,{...g,"aria-current":R,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(x):p)});Us.displayName="NavLink";var P1=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...b},M)=>{let V=B1(),Q=q1(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&hT.test(m),ae=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,Z=(he==null?void 0:he.getAttribute("formmethod"))||f;V(he||re.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return q.createElement("form",{ref:M,method:F,action:Q,onSubmit:s?p:ae,...b,"data-discover":!$&&r==="render"?"true":void 0})});P1.displayName="Form";function L1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(r){let e=q.useContext(mo);return at(e,L1(r)),e}function U1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Zm(),p=Ys(),g=lu(r,{relative:u});return q.useCallback(E=>{if(g1(E,e)){E.preventDefault();let w=n!==void 0?n:$l(p)===$l(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var j1=0,z1=()=>`__${String(++j1)}__`;function B1(){let{router:r}=fT("useSubmit"),{basename:e}=q.useContext(yi),n=a1();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=v1(s,e);if(o.navigate===!1){let E=o.fetcherKey||z1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function q1(r,{relative:e}={}){let{basename:n}=q.useContext(yi),s=q.useContext(nr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=Ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yi([n,u.pathname])),$l(u)}function H1(r,e={}){let n=q.useContext(iT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fT("useViewTransitionState"),o=lu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=$i(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}[...C1];const F1=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},G1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(b=64)),s.push(n[E],n[w],n[b],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):G1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new K1;const b=u<<2|m>>4;if(s.push(b),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(r){const e=dT(r);return mT.encodeByteArray(e,!0)},hh=function(r){return Q1(r).replace(/\./g,"")},pT=function(r){try{return mT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof Ev>"u")return;const r=Ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},W1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pT(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return F1()||X1()||$1()||W1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>{var e,n;return(n=(e=Mh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},Z1=r=>{const e=gT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yT=()=>{var r;return(r=Mh())==null?void 0:r.config},_T=r=>{var e;return(e=Mh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Fl={};function tw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function nw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function ET(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Fl[r]===e||Fl[r]||Tv)return;Fl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=tw().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Tv=!0,f()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=nw(s),M=n("text"),V=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),ae=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(F,Q);const he=g();p(ae,$),re.append(ae,V,F,he),document.body.appendChild(re)}u?(V.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function rw(){var e;const r=(e=Mh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uw(){return!rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="FirebaseError";class ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fw,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?dw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ir(o,m,s)}}function dw(r,e){return r.replace(mw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mw=/\{\$([^}]+)}/g;function pw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Sv(u)&&Sv(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function gw(r,e){const n=new yw(r,e);return n.subscribe.bind(n)}class yw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_w(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new J1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tw(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ew(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ew(r){return r===js?void 0:r}function Tw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Aw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},bw=Oe.INFO,ww={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Rw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ww[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=bw,this._logHandler=Rw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Cw=(r,e)=>e.some(n=>r instanceof n);let Av,bv;function Iw(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,wm=new WeakMap,ST=new WeakMap,fm=new WeakMap,rp=new WeakMap;function Nw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,r)}).catch(()=>{}),rp.set(e,r),e}function xw(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ST.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ow(r){Rm=r(Rm)}function kw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),jr(s)}:Dw().includes(r)?function(...e){return r.apply(dm(this),e),jr(TT.get(this))}:function(...e){return jr(r.apply(dm(this),e))}}function Mw(r){return typeof r=="function"?kw(r):(r instanceof IDBTransaction&&xw(r),Cw(r,Iw())?new Proxy(r,Rm):r)}function jr(r){if(r instanceof IDBRequest)return Nw(r);if(fm.has(r))return fm.get(r);const e=Mw(r);return e!==r&&(fm.set(r,e),rp.set(e,r)),e}const dm=r=>rp.get(r);function Vw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(jr(f.result),p.oldVersion,p.newVersion,jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Pw=["get","getKey","getAll","getAllKeys","count"],Lw=["put","add","delete","clear"],mm=new Map;function wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Lw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Pw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}Ow(r=>({...r,get:(e,n,s)=>wv(e,n)||r.get(e,n,s),has:(e,n)=>!!wv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Rv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new ip("@firebase/app"),zw="@firebase/app-compat",Bw="@firebase/analytics-compat",qw="@firebase/analytics",Hw="@firebase/app-check-compat",Fw="@firebase/app-check",Gw="@firebase/auth",Kw="@firebase/auth-compat",Qw="@firebase/database",Yw="@firebase/data-connect",Xw="@firebase/database-compat",$w="@firebase/functions",Ww="@firebase/functions-compat",Zw="@firebase/installations",Jw="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",iR="@firebase/performance-compat",rR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",oR="@firebase/storage-compat",lR="@firebase/firestore",uR="@firebase/ai",cR="@firebase/firestore-compat",hR="firebase",fR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",dR={[Cm]:"fire-core",[zw]:"fire-core-compat",[qw]:"fire-analytics",[Bw]:"fire-analytics-compat",[Fw]:"fire-app-check",[Hw]:"fire-app-check-compat",[Gw]:"fire-auth",[Kw]:"fire-auth-compat",[Qw]:"fire-rtdb",[Yw]:"fire-data-connect",[Xw]:"fire-rtdb-compat",[$w]:"fire-fn",[Ww]:"fire-fn-compat",[Zw]:"fire-iid",[Jw]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[iR]:"fire-perf-compat",[rR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[oR]:"fire-gcs-compat",[lR]:"fire-fst",[cR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,mR=new Map,Dm=new Map;function Cv(r,e){try{r.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(Dm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of fh.values())Cv(n,r);for(const n of mR.values())Cv(n,r);return!0}function sp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new uu("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=fR;function AT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw zr.create("no-options");const u=fh.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const f=new Sw(o);for(const p of Dm.values())f.addComponent(p);const m=new gR(n,s,f);return fh.set(o,m),m}function bT(r=Im){const e=fh.get(r);if(!e&&r===Im&&yT())return AT();if(!e)throw zr.create("no-app",{appName:r});return e}function Br(r,e,n){let s=dR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(f.join(" "));return}so(new Hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",_R=1,Wl="firebase-heartbeat-store";let pm=null;function wT(){return pm||(pm=Vw(yR,_R,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),pm}async function vR(r){try{const n=(await wT()).transaction(Wl),s=await n.objectStore(Wl).get(RT(r));return await n.done,s}catch(e){if(e instanceof ir)Wi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function Iv(r,e){try{const s=(await wT()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,RT(r)),await s.done}catch(n){if(n instanceof ir)Wi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function RT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,TR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Dv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>TR){const f=wR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:s,unsentEntries:o}=AR(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wi.warn(n),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function AR(r,e=ER){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nv(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function wR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){so(new Hs("platform-logger",e=>new Uw(e),"PRIVATE")),so(new Hs("heartbeat",e=>new SR(e),"PRIVATE")),Br(Cm,Rv,r),Br(Cm,Rv,"esm2020"),Br("fire-js","")}RR("");var CR="firebase",IR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(CR,IR,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,CT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(O,P,U){for(var D=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)D[lt-2]=arguments[lt];return R.prototype[P].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)O[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],P=x.g[2];var U=x.g[3],D=R+(U^C&(P^U))+O[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=U+(P^R&(C^P))+O[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=P+(C^U&(R^C))+O[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(R^P&(U^R))+O[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(U^C&(P^U))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(P^R&(C^P))+O[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=P+(C^U&(R^C))+O[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(R^P&(U^R))+O[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(U^C&(P^U))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(P^R&(C^P))+O[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=P+(C^U&(R^C))+O[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(R^P&(U^R))+O[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(U^C&(P^U))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(P^R&(C^P))+O[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=P+(C^U&(R^C))+O[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(R^P&(U^R))+O[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(P^U&(C^P))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(R^C))+O[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(U^R))+O[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(P^U))+O[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^U&(C^P))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(R^C))+O[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(U^R))+O[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(P^U))+O[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^U&(C^P))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(R^C))+O[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(U^R))+O[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(P^U))+O[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^U&(C^P))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(R^C))+O[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(U^R))+O[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(P^U))+O[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(C^P^U)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^P)+O[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=P+(U^R^C)+O[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^R)+O[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^U)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^P)+O[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=P+(U^R^C)+O[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^R)+O[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^U)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^P)+O[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=P+(U^R^C)+O[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^R)+O[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^U)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^P)+O[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=P+(U^R^C)+O[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^R)+O[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(P^(C|~U))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~P))+O[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=P+(R^(U|~C))+O[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~R))+O[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~U))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~P))+O[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=P+(R^(U|~C))+O[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~R))+O[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~U))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~P))+O[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=P+(R^(U|~C))+O[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~R))+O[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~U))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~P))+O[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=P+(R^(U|~C))+O[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~R))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,O=this.B,P=this.h,U=0;U<R;){if(P==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(O[P++]=x.charCodeAt(U++),P==this.blockSize){o(this,O),P=0;break}}else for(;U<R;)if(O[P++]=x[U++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)x[C++]=this.g[R]>>>O&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;for(var C=[],O=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;O&&U==R||(C[P]=U,O=!1)}this.g=C}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return F(g(-x));for(var R=[],C=1,O=0;x>=C;O++)R[O]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return F(E(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),O=w,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+U),R);8>U?(U=g(Math.pow(R,U)),O=O.j(U).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var w=p(0),b=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-F(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);x+=(0<=O?O:4294967296+O)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(Q(this))return"-"+F(this).toString(x);for(var R=g(Math.pow(x,6)),C=this,O="";;){var P=he(C,R).g;C=$(C,P.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=P,V(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=$(this,x),Q(x)?-1:V(x)?0:1};function F(x){for(var R=x.g.length,C=[],O=0;O<R;O++)C[O]=~x.g[O];return new f(C,~x.h).add(b)}r.abs=function(){return Q(this)?F(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],O=0,P=0;P<=R;P++){var U=O+(this.i(P)&65535)+(x.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);O=D>>>16,U&=65535,D&=65535,C[P]=D<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(x,R){return x.add(F(R))}r.j=function(x){if(V(this)||V(x))return w;if(Q(this))return Q(x)?F(this).j(F(x)):F(F(this).j(x));if(Q(x))return F(this.j(F(x)));if(0>this.l(M)&&0>x.l(M))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<x.g.length;P++){var U=this.i(O)>>>16,D=this.i(O)&65535,lt=x.i(P)>>>16,Fe=x.i(P)&65535;C[2*O+2*P]+=D*Fe,ae(C,2*O+2*P),C[2*O+2*P+1]+=U*Fe,ae(C,2*O+2*P+1),C[2*O+2*P+1]+=D*lt,ae(C,2*O+2*P+1),C[2*O+2*P+2]+=U*lt,ae(C,2*O+2*P+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function ae(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function he(x,R){if(V(R))throw Error("division by zero");if(V(x))return new re(w,w);if(Q(x))return R=he(F(x),R),new re(F(R.g),F(R.h));if(Q(R))return R=he(x,F(R)),new re(F(R.g),R.h);if(30<x.g.length){if(Q(x)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=R;0>=O.l(x);)C=Z(C),O=Z(O);var P=ue(C,1),U=ue(O,1);for(O=ue(O,2),C=ue(C,2);!V(O);){var D=U.add(O);0>=D.l(x)&&(P=P.add(C),U=D),O=ue(O,1),C=ue(C,1)}return R=$(x,P.j(R)),new re(P,R)}for(P=w;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(C),D=U.j(R);Q(D)||0<D.l(x);)C-=O,U=g(C),D=U.j(R);V(U)&&(U=b),P=P.add(U),x=$(x,D)}return new re(P,x)}r.A=function(x){return he(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&x.i(O);return new f(C,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|x.i(O);return new f(C,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^x.i(O);return new f(C,this.h^x.h)};function Z(x){for(var R=x.g.length+1,C=[],O=0;O<R;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(C,x.h)}function ue(x,R){var C=R>>5;R%=32;for(var O=x.g.length-C,P=[],U=0;U<O;U++)P[U]=0<R?x.i(U+C)>>>R|x.i(U+C+1)<<32-R:x.i(U+C);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qr=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,jl,DT,Jc,Nm,NT,xT,OT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,K){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return y.prototype[j].apply(A,oe)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const j=c.length||0,K=A.length||0;c.length=j+K;for(let oe=0;oe<K;oe++)c[j+oe]=A[oe]}else c.push(A)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var Z=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ue(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let K=0;K<C.length;K++)_=C[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class lt{constructor(){this.h=this.g=null}add(y,_){const A=Fe.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Fe=new $(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,je=new lt,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=Fe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{he(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,se);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Fn(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++Je,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _i(c){this.src=c,this.g={},this.h=0}_i.prototype.add=function(c,y,_,A,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=ts(c,y,A,j);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Fn(y,this.src,K,!!A,j),y.fa=_,c.push(y)),y};function es(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(A,j,1),K&&(rr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ts(c,y,_,A){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return j}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),bo={};function vu(c,y,_,A,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)vu(c,y[K],_,A,j);return null}return _=Eu(_),c&&c[Nt]?c.K(y,_,g(A)?!!A.capture:!1,j):vn(c,y,_,!1,A,j)}function vn(c,y,_,A,j,K){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,Ve=Js(c);if(Ve||(c[ns]=Ve=new _i(c)),_=Ve.add(y,_,A,oe,K),_.proxy)return _;if(A=nf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(is(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nf(){function c(_){return y.call(c.src,c.listener,_)}const y=rf;return c}function wo(c,y,_,A,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)wo(c,y[K],_,A,j);else A=g(A)?!!A.capture:!!A,_=Eu(_),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ts(K,_,A,j),-1<_&&(rr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ts(y,_,A,j)),(_=-1<c?y[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])es(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(is(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Js(y))?(es(_,c),_.h==0&&(_.src=null,y[ns]=null)):rr(c)}}}function is(c){return c in bo?bo[c]:bo[c]="on"+c}function rf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=_.call(A,y)}return c}function Js(c){return c=c[ns],c instanceof _i?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function ut(){te.call(this),this.i=new _i(this),this.M=this,this.F=null}V(ut,te),ut.prototype[Nt]=!0,ut.prototype.removeEventListener=function(c,y,_,A){wo(this,c,y,_,A)};function Ge(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var j=y;y=new se(A,c),O(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var oe=y.g=_[K];j=un(oe,A,!0,y)&&j}if(oe=y.g=c,j=un(oe,A,!0,y)&&j,j=un(oe,A,!1,y)&&j,_)for(K=0;K<_.length;K++)oe=y.g=_[K],j=un(oe,A,!1,y)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)rr(_[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ut.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function un(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var oe=y[K];if(oe&&!oe.da&&oe.capture==_){var Ve=oe.listener,At=oe.ha||oe.src;oe.fa&&es(c.i,oe),j=Ve.call(At,A)!==!1&&j}}return j&&!A.defaultPrevented}function Kt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Tu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sf extends te{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){te.call(this),this.h=c,this.g={}}V(rs,te);var ss=[];function as(c){ue(c.g,function(y,_){this.g.hasOwnProperty(_)&&Zs(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,ea=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function Do(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){se.call(this,"d")}V(Ei,se);function No(){se.call(this,"c")}V(No,se);var Gn={},xo=null;function sr(){return xo=xo||new ut}Gn.La="serverreachability";function ta(c){se.call(this,Gn.La,c)}V(ta,se);function ar(c){const y=sr();Ge(y,new ta(y))}Gn.STAT_EVENT="statevent";function Su(c,y){se.call(this,Gn.STAT_EVENT,c),this.stat=y}V(Su,se);function it(c){const y=sr();Ge(y,new Su(y,c))}Gn.Ma="timingevent";function St(c,y){se.call(this,Gn.Ma,c),this.size=y}V(St,se);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Oo(c,y,_,A,j,K){c.info(function(){if(c.g)if(K)for(var oe="",Ve=K.split("&"),At=0;At<Ve.length;At++){var Pe=Ve[At].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var bt=Ot.split("_");oe=2<=bt.length&&bt[1]=="type"?oe+(Ot+"="+Pe+"&"):oe+(Ot+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+oe})}function af(c,y,_,A,j,K,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+oe})}function or(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,_)+(A?" "+A:"")})}function Au(c,y){c.info(function(){return"TIMEOUT: "+y})}En.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return kn(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Qn(){}V(Qn,Co),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Kn=new Qn;function Jt(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var ko={},na={};function Mn(c,y,_){c.L=1,c.v=ds(cn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),us(c),c.A=cn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),jo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ft,c.g=ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new sf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ss[0]=j.toString()),j=ss);for(var K=0;K<j.length;K++){var oe=vu(_,j[K],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),Oo(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const y=this.M;y&&bn(c)==3?y.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=bn(this.g);var y=this.g.Ba();const Ni=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||bt!=4||y==7||(y==8||0>=Ni?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;t:if(bu(this)){var A=xu(this.g);c="";var j=A.length,K=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Yn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,af(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,At=this.g;if((Ve=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,_);else{this.o=!1,this.s=3,it(12),Lt(this),Yn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<oe.length;)if(Ut=wu(this,oe),Ut==na){bt==4&&(this.s=4,it(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==ko){this.s=4,it(15),or(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Ut,null),cs(this,Ut);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||oe.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,oe,"[Invalid Chunked Response]"),Lt(this),Yn(this);else if(0<oe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ts(Ot),Ot.M=!0,it(11))}}else or(this.i,this.l,oe,null),cs(this,oe);bt==4&&Lt(this),this.o&&!this.J&&(bt==4?Pu(this.j,this):(this.o=!1,us(this)))}else hf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Lt(this),Yn(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?na:(_=Number(y.substring(_,A)),isNaN(_)?ko:(A+=1,A+_>y.length?na:(y=y.slice(A,A+_),c.C=A+_,y)))}Jt.prototype.cancel=function(){this.J=!0,Lt(this)};function us(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(b(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Au(this.i,this.A),this.L!=2&&(ar(),it(17)),Lt(this),this.s=2,Yn(this)):Ru(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Pu(c.j,c)}function Lt(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mo(_.h,c))){if(!c.K&&Mo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ma(_),fa(_);else break e;Fo(_),it(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(b(_.Za,_),6e3));if(1>=ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((c.K||_.g==c)&&ma(_),!ae(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Pe=j[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const bt=Pe[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Ni=Pe[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(A=1.5*Ni,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ut=c.g;if(Ut){const ti=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var K=A.h;K.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(sa(K,K.h),K.h=null))}if(A.D){const Ko=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(A.ya=Ko,Ye(A.I,A.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=Uu(A,A.J?A.ia:null,A.W),oe.K){en(A.h,oe);var Ve=oe,At=A.L;At&&(Ve.I=At),Ve.B&&(ur(Ve),us(Ve)),A.g=oe}else Mu(A);0<_.i.length&&da(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Di(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Di(_,7):qo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}ar(4)}catch{}}var Cu=class{constructor(c,y){this.g=c,this.map=y}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function sa(c,y){c.g?c.g.add(y):c.h=y}function en(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ai.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function of(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=aa(c),A=of(c),j=A.length,K=0;K<j;K++)y.call(void 0,A[K],_&&_[K],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var K=c[_].substring(0,A);j=c[_].substring(A+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new wi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),bi(this,_),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Tn(y[2]||""),this.g=Tn(y[3]||"",!0),cr(this,y[4]),this.l=Tn(y[5]||"",!0),bi(this,y[6]||"",!0),this.m=Tn(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ms(_,_.charAt(0)=="/"?uf:Uo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ms(_,oa)),c.join("")};function cn(c){return new yt(c)}function fs(c,y,_){c.j=_?Tn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bi(c,y,_){y instanceof wi?(c.i=y,Du(c.i,c.h)):(_||(y=ms(y,cf)),c.i=new wi(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function ds(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Uo=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,oa=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=wi.prototype,r.add=function(c,y){Sn(this),this.i=null,c=Xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ri(c,y){Sn(c),y=Xn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ci(c,y){return Sn(c),y=Xn(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let K=0;K<j.length;K++)_.push(y[A])}return _},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ci(this,c)&&(y=y.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=Xn(this,c),Ci(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jo(c,y,_){Ri(c,y),0<_.length&&(c.i=null,c.g.set(Xn(c,y),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var j=K;oe[A]!==""&&(j+="="+encodeURIComponent(String(oe[A]))),c.push(j)}}return this.i=c.join("&")};function Xn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Du(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(Ri(this,A),jo(this,j,_))},c)),c.j=y}function ps(c,y){const _=new En;if(m.Image){const A=new Image;A.onload=M(An,_,"TestLoadImage: loaded",!0,y,A),A.onerror=M(An,_,"TestLoadImage: error",!1,y,A),A.onabort=M(An,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(An,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Vn(c,y){const _=new En,A=new AbortController,j=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?An(_,"TestPingServer: ok",!0,y):An(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),An(_,"TestPingServer: error",!1,y)})}function An(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function gs(){this.g=new os}function $n(c,y,_){const A=_||"";try{Po(c,function(j,K){let oe=j;g(j)&&(oe=kn(j)),y.push(A+K+"="+encodeURIComponent(oe))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(hr,Co),hr.prototype.g=function(){return new Ii(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ii(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ii,ut),r=Ii.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wn(this):Zn(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return ue(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function xt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function qe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(qe,ut);var la=/^https?$/i,ys=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Io(this.o):Io(Kn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Nu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Nu(this,K)}};function Nu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ua(c),Jn(c)}function ua(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Kt(c.Ea,0,c);else if(Ge(c,"readystatechange"),bn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=oe===0){var j=String(c.D).match(hs)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!la.test(j?j.toLowerCase():"")}_=A}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<bn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ua(c)}}finally{Jn(c)}}}}function Jn(c,y){if(c.g){_s(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=A}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ea(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const y={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ae(c[A]))continue;var _=P(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ha(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ha.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){it(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Uu(this,null,this.W),da(this)};function qo(c){if(Ou(c),c.G==3){var y=c.U++,_=cn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Es(c,_),y=new Jt(c,c.j,y),y.L=2,y.v=ds(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Lu(c)}function fa(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Ou(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!ia(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||N(),me||(le(),me=!0),je.add(y,c),c.B=0}}function ff(c,y){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(b(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Jt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),_=cn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Es(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Bo(K)))+"&"+y:this.m&&xt(_,this.m,K)),sa(this.h,j),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),j.T=!0,Mn(j,_,null)):Mn(j,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||ia(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const A=cn(c.I);Ye(A,"SID",c.K),Ye(A,"RID",_),Ye(A,"AID",c.T),Es(c,A),c.m&&c.o&&xt(A,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sa(c.h,_),Mn(_,A,y)}function Es(c,y){c.H&&ue(c.H,function(_,A){Ye(y,A,_)}),c.l&&Po({},function(_,A){Ye(y,A,_)})}function ku(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const oe=["count="+_];K==-1?0<_?(K=j[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Ve=!0;for(let At=0;At<_;At++){let Pe=j[At].g;const Ot=j[At].map;if(Pe-=K,0>Pe)K=Math.max(0,j[At].g-100),Ve=!1;else try{$n(Ot,oe,"req"+Pe+"_")}catch{A&&A(Ot)}}if(Ve){A=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||N(),me||(le(),me=!0),je.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(b(c.Fa,c),Go(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),fa(this),Vu(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(cn(y)),_.m=null,_.P=!0,Si(_,c)}r.Za=function(){this.C!=null&&(this.C=null,fa(this),Fo(this),it(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){ma(c),Ts(c),c.g=null;var A=2}else if(Mo(c.h,y))_=y.D,en(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=sr(),Ge(A,new St(A,_)),da(c)}else Mu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&ff(c,y)||A==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const j=!A;A=new yt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(A,"https"),ds(A),j?ps(A.toString(),_):Vn(A.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),Lu(c),Ou(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Uu(c,y,_){var A=_ instanceof yt?cn(_):new yt(_);if(A.g!="")y&&(A.g=y+"."+A.g),cr(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new yt(null);A&&fs(K,A),y&&(K.g=y),j&&cr(K,j),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&Ye(A,_,y),Ye(A,"VER",c.la),Es(c,A),A}function ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new hr({eb:_})):new qe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){ut.call(this),this.g=new ha(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ei(this)}V(tn,ut),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){qo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=kn(c),c=_);y.i.push(new Cu(y.Ya++,c)),y.G==3&&da(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,tn.aa.N.call(this)};function Bu(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Bu,Ei);function qu(){No.call(this),this.status=1}V(qu,No);function ei(c){this.g=c}V(ei,zu),ei.prototype.ua=function(){Ge(this.g,"a")},ei.prototype.ta=function(c){Ge(this.g,new Bu(c))},ei.prototype.sa=function(c){Ge(this.g,new qu)},ei.prototype.ra=function(){Ge(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,OT=function(){return new pa},xT=function(){return sr()},NT=Gn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Jc=lr,Ti.COMPLETE="complete",DT=Ti,Do.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",ut.prototype.listen=ut.prototype.K,jl=Do,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,IT=qe}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore",kv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new ip("@firebase/firestore");function Qa(){return Fs.logLevel}function ce(r,...e){if(Fs.logLevel<=Oe.DEBUG){const n=e.map(ap);Fs.debug(`Firestore (${yo}): ${r}`,...n)}}function Zi(r,...e){if(Fs.logLevel<=Oe.ERROR){const n=e.map(ap);Fs.error(`Firestore (${yo}): ${r}`,...n)}}function ao(r,...e){if(Fs.logLevel<=Oe.WARN){const n=e.map(ap);Fs.warn(`Firestore (${yo}): ${r}`,...n)}}function ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,kT(r,s,n)}function kT(r,e,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||kT(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class OR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function xm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return gm(o)===gm(u)?ke(o,u):gm(o)?1:-1}return ke(r.length,e.length)}const PR=55296,LR=57343;function gm(r){const e=r.charCodeAt(0);return e>=PR&&e<=LR}function oo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class tt extends li{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends li{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Ht([Vv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,n,s){if(e===!0&&s===!0)throw new de(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Pv(r){if(!ye.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lv(r){if(ye.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function PT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(r);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!PT(r))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,jv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Tt("string",nt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function zR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Gr(o,ye.empty(),e)}function BR(r){return new Gr(r.readTime,r.key,Zl)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(be.min(),ye.empty(),Zl)}static max(){return new Gr(be.max(),ye.empty(),Zl)}}function qR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==HR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function GR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function Ph(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function KR(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function QR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=zv(e)),e=YR(r.get(n),e);return zv(e)}function YR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function zv(r){return r+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Wr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Dt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=XR.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function cp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[BT])==null?void 0:s.stringValue)===zT}function Lh(r){const e=r.mapValue.fields[qT];return cp(e)?Lh(e):e}function Jl(r){const e=Kr(r.mapValue.fields[HT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const mh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",WR="__max__",Kc={mapValue:{}},GT="__vector__",ph="value";function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cp(r)?4:JR(r)?9007199254740991:ZR(r)?10:11:Te(28295,{value:r})}function pi(r,e){if(r===e)return!0;const n=Yr(r);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Qr(o.bytesValue).isEqual(Qr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Bv(f)!==Bv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function tu(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function lo(r,e){if(r===e)return 0;const n=Yr(r),s=Yr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Hv(r.timestampValue,e.timestampValue);case 4:return Hv(Jl(r),Jl(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Qr(u),p=Qr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(pt(u.latitude),pt(f.latitude));return m!==0?m:ke(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Fv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var b,M,V,Q;const m=u.fields||{},p=f.fields||{},g=(b=m[ph])==null?void 0:b.arrayValue,E=(M=p[ph])==null?void 0:M.arrayValue,w=ke(((V=g==null?void 0:g.values)==null?void 0:V.length)||0,((Q=E==null?void 0:E.values)==null?void 0:Q.length)||0);return w!==0?w:Fv(g,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const b=xm(p[w],E[w]);if(b!==0)return b;const M=lo(m[p[w]],g[E[w]]);if(M!==0)return M}return ke(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Hv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=Kr(r),s=Kr(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function Fv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function uo(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function eh(r){switch(Yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Wr(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function km(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function Gv(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function ZR(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[FT])==null?void 0:s.stringValue)===GT}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Wr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Gl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return e}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ln(Gl(this.value))}}function KT(r){const e=[];return Wr(r.fields,(n,s)=>{const o=new Ht([n]);if(th(s)){const u=KT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class Ct extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nC(e,n,s):n==="array-contains"?new sC(e,s):n==="in"?new aC(e,s):n==="not-in"?new oC(e,s):n==="array-contains-any"?new lC(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iC(e,s):new rC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gi(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(r){return r.op==="and"}function XT(r){return tC(r)&&YT(r)}function tC(r){for(const e of r.filters)if(e instanceof gi)return!1;return!0}function Mm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(XT(r))return r.filters.map(e=>Mm(e)).join(",");{const e=r.filters.map(n=>Mm(n)).join(",");return`${r.op}(${e})`}}function $T(r,e){return r instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof gi?function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&$T(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function WT(r){return r instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(r):r instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(r):"Filter"}class nC extends Ct{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class iC extends Ct{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rC extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZT(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class sC extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&tu(n.arrayValue,this.value)}}class aC extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class oC extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class lC extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Xv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new uC(r,e,n,s,o,u,f)}function fp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>uo(s)).join(",")),e.Te=n}return e.Te}function dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$T(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function Vm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function mp(r){return new Uh(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hC(r){return r.collectionGroup!==null}function Kl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yh(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new yh(Ht.keyField(),s))}return e.Ie}function ui(r){const e=we(r);return e.Ee||(e.Ee=fC(e,Kl(r))),e.Ee}function fC(r,e){if(r.limitType==="F")return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)});const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Pm(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return dp(ui(r),ui(e))&&r.limitType===e.limitType}function JT(r){return`${fp(ui(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>WT(o)).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=Qv(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,p){const g=Qv(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(r,e)}function dC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function e0(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=mC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new ot(ye.comparator);function er(){return pC}const t0=new ot(ye.comparator);function zl(...r){let e=t0;for(const n of r)e=e.insert(n.key,n);return e}function n0(r){let e=t0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return Ql()}function i0(){return Ql()}function Ql(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const gC=new ot(ye.comparator),yC=new Dt(ye.comparator);function Me(...r){let e=yC;for(const n of r)e=e.add(n);return e}const _C=new Dt(ke);function vC(){return _C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function r0(r){return{integerValue:""+r}}function EC(r,e){return KR(e)?r0(e):pp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function TC(r,e,n){return r instanceof _h?function(o,u){const f={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=Lh(u)),u&&(f.fields[qT]=u),{mapValue:f}}(n,e):r instanceof nu?a0(r,e):r instanceof iu?o0(r,e):function(o,u){const f=s0(o,u),m=Wv(f)+Wv(o.Ae);return km(f)&&km(o.Ae)?r0(m):pp(o.serializer,m)}(r,e)}function SC(r,e,n){return r instanceof nu?a0(r,e):r instanceof iu?o0(r,e):n}function s0(r,e){return r instanceof vh?function(s){return km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _h extends Bh{}class nu extends Bh{constructor(e){super(),this.elements=e}}function a0(r,e){const n=l0(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends Bh{constructor(e){super(),this.elements=e}}function o0(r,e){let n=l0(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class vh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wv(r){return pt(r.integerValue||r.doubleValue)}function l0(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function AC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?oo(s.elements,o.elements,pi):s instanceof vh&&o instanceof vh?pi(s.Ae,o.Ae):s instanceof _h&&o instanceof _h}(r.transform,e.transform)}class bC{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function u0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gp(r.key,Bn.none()):new fu(r.key,r.data,Bn.none());{const n=r.data,s=ln.empty();let o=new Dt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Zr(r.key,s,new _n(o.toArray()),Bn.none())}}function wC(r,e,n){r instanceof fu?function(o,u,f){const m=o.value.clone(),p=Jv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Zr?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Jv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(c0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof fu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),E=eE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Zr?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=eE(u.fieldTransforms,p,f),E=f.data;return E.setAll(c0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function RC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=s0(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function Zv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>AC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function c0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Jv(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,SC(f,m,n[o]))}return s}function eE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TC(u,f,e))}return s}class gp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=i0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=u0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>Zv(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>Zv(n,s))}}class yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return gC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new yp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function xC(r){switch(r){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function h0(r){if(r===void 0)return Zi("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Et.OK:return ie.OK;case Et.CANCELLED:return ie.CANCELLED;case Et.UNKNOWN:return ie.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ie.INTERNAL;case Et.UNAVAILABLE:return ie.UNAVAILABLE;case Et.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Et.NOT_FOUND:return ie.NOT_FOUND;case Et.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Et.ABORTED:return ie.ABORTED;case Et.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Et.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new qr([4294967295,4294967295],0);function tE(r){const e=OC().encode(r),n=new CT;return n.update(e),new Uint8Array(n.digest())}function nE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class _p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(kC)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tE(e),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _p(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=tE(e),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(be.min(),o,new ot(ke),er(),Me())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class f0{constructor(e,n){this.targetId=e,this.Ce=n}}class d0{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class iE{constructor(){this.ve=0,this.Fe=rE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=rE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MC{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=Qc(),this.He=Qc(),this.Ye=new ot(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof jT)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return ao(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Vm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Me();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ye,this.je,s);return this.je=er(),this.Je=Qc(),this.He=Qc(),this.Ye=new ot(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new ot(ye.comparator)}function rE(){return new ot(ye.comparator)}const VC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jC(r,e){return Eh(r,e.toTimestamp())}function ci(r){return He(!!r,49232),be.fromTimestamp(function(n){const s=Kr(n);return new nt(s.seconds,s.nanos)}(r))}function vp(r,e){return Um(r,e).canonicalString()}function Um(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function p0(r){const e=tt.fromString(r);return He(E0(e),10190,{key:e.toString()}),e}function jm(r,e){return vp(r.databaseId,e.path)}function ym(r,e){const n=p0(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(y0(n))}function g0(r,e){return vp(r.databaseId,e)}function zC(r){const e=p0(r);return e.length===4?tt.emptyPath():y0(e)}function zm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function y0(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sE(r,e,n){return{name:jm(r,e),fields:n.value.mapValue.fields}}function BC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ie.UNKNOWN:h0(g.code);return new de(E,g.message||"")}(f);n=new d0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):be.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?ci(s.readTime):be.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new NC(o,u),m=s.targetId;n=new f0(m,f)}}return n}function qC(r,e){let n;if(e instanceof fu)n={update:sE(r,e.key,e.value)};else if(e instanceof gp)n={delete:jm(r,e.key)};else if(e instanceof Zr)n={update:sE(r,e.key,e.data),updateMask:WC(e.fieldMask)};else{if(!(e instanceof CC))return Te(16599,{Vt:e.type});n={verify:jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function HC(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(be.min())&&(f=ci(u)),new bC(f,o.transformResults||[])}(n,e))):[]}function FC(r,e){return{documents:[g0(r,e.path)]}}function GC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=g0(r,o);const u=function(g){if(g.length!==0)return v0(gi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:Xa(b.field),direction:YC(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function KC(r){let e=zC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const b=_0(w);return b instanceof gi&&XT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(V){return new yh($a(V.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,Ph(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(w){const b=!!w.before,M=w.values||[];return new gh(M,b)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const b=!w.before,M=w.values||[];return new gh(M,b)}(n.endAt)),cC(e,o,f,u,m,"F",p,g)}function QC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ct.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(s=>_0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function YC(r){return VC[r]}function XC(r){return PC[r]}function $C(r){return LC[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Ht.fromServerFormat(r.fieldPath)}function v0(r){return r instanceof Ct?function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:XC(n.op),value:n.value}}}(r):r instanceof gi?function(n){const s=n.getFilters().map(o=>v0(o));return s.length===1?s[0]:{compositeFilter:{op:$C(n.op),filters:s}}}(r):Te(54877,{filter:r})}function WC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function E0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.yt=e}}function JC(r){const e=KC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Gr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class tI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(T0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",nI=1048576;function lE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class iI{constructor(e){this.Ir=e,this.buffer=new Dt(lE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(oE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ce(oE,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Vr(3e5)})}}class sI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Vh.ce);const s=new iI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(aE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Qa()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function aI(r,e){return new sI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,_n.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=er();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Zr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Yl(E.mutation,g,E.mutation.getFieldMask(),nt.now())):f.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new lI(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ot((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||_n.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=i0();E.forEach(b=>{if(!u.has(b)){const M=u0(n.get(b),s.get(b));M!==null&&w.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(zs());let m=Zl,p=u;return f.next(g=>ee.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:n0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(w,b){return new Uh(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Yl(E.mutation,g,_n.empty(),nt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:JC(o.bundledQuery),readTime:ci(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.overlays=new ot(ye.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new DC(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.Qr=new Dt(Pt.$r),this.Ur=new Dt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ye(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Pt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?up:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(ke);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ye(u),0);let m=new Dt(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.ri=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=er();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qR(BR(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pI(this)}getSize(e){return ee.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.persistence=e,this.si=new Xs(n=>fp(n),dp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=function(o){return new mI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new ZC(n),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new yI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class yI extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Tp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=ye.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new Xs(s=>QR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aI(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uw()?8:GR(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new _I;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Qa()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Qa()<=Oe.DEBUG&&ce("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Qa()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):ee.resolve())}ys(e,n){if($v(n))return ee.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Pm(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return $v(n)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Qa()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.vs(e,f,n,zR(o,Zl)).next(m=>m))})}Ds(e,n){let s=new Dt(e0(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Qa()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="LocalStore",EI=3e8;class TI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(ke),this.xs=new Xs(u=>fp(u),dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function SI(r,e,n,s){return new TI(r,e,n,s)}async function A0(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function AI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,b=w.keys();let M=ee.resolve();return b.forEach(V=>{M=M.next(()=>E.getEntry(p,V)).next(Q=>{const F=g.docVersions.get(V);He(F!==null,48541),Q.version.compareTo(F)<0&&(w.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function b0(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function bI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w)));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Gt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(Q,F,$){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=EI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(b,M,E)&&m.push(n.Pi.updateTargetData(u,M))});let p=er(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(wI(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function wI(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=er();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Ap,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function RI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function CI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Bm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;ce(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function uE(r,e,n){const s=we(r);let o=be.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=we(p),b=w.xs.get(E);return b!==void 0?ee.resolve(w.Ms.get(b)):w.Pi.getTargetData(g,E)}(s,f,ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Me())).next(m=>(II(s,dC(e),m),{documents:m,Qs:u})))}function II(r,e,n){let s=r.Os.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class cE{constructor(){this.activeTargetIds=vC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DI{constructor(){this.Mo=new cE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(hE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function qm(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",xI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=qm(),m=this.zo(e,n.toUriEncodedString());ce(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=po(g);return this.Jo(e,m,p,s,E).then(w=>(ce(_m,`Received RPC '${e}' ${f}: `,w),w),w=>{throw ao(_m,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=xI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class MI extends OI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=qm();return new Promise((m,p)=>{const g=new IT;g.setWithCredentials(!0),g.listenOnce(DT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const w=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Jc.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),p(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const b=g.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const V=M==null?void 0:M.error;if(V&&V.status&&V.message){const Q=function($){const ae=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(ae)>=0?ae:ie.UNKNOWN}(V.status);p(new de(Q,V.message))}else p(new de(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OT(),m=xT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let b=!1,M=!1;const V=new kI({Yo:F=>{M?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Zo:()=>w.close()}),Q=(F,$,ae)=>{F.listen($,re=>{try{ae(re)}catch(he){setTimeout(()=>{throw he},0)}})};return Q(w,jl.EventType.OPEN,()=>{M||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),Q(w,jl.EventType.CLOSE,()=>{M||(M=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(w))}),Q(w,jl.EventType.ERROR,F=>{M||(M=!0,ao(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),V.a_(new de(ie.UNAVAILABLE,"The operation could not be completed")))}),Q(w,jl.EventType.MESSAGE,F=>{var $;if(!M){const ae=F.data[0];He(!!ae,16349);const re=ae,he=(re==null?void 0:re.error)||(($=re[0])==null?void 0:$.error);if(he){ce(Xt,`RPC '${e}' stream ${o} received error:`,he);const Z=he.status;let ue=function(C){const O=Et[C];if(O!==void 0)return h0(O)}(Z),x=he.message;ue===void 0&&(ue=ie.INTERNAL,x="Unknown error status: "+Z+" with message "+he.message),M=!0,V.a_(new de(ue,x)),w.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,ae),V.u_(ae)}}),Q(m,NT.STAT_EVENT,F=>{F.stat===Nm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Nm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(r){return new UC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class R0{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VI extends R0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BC(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?ci(f.readTime):be.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Vm(p)?{documents:FC(u,p)}:{query:GC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=m0(u,f.resumeToken);const g=Lm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=Lm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=QC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.q_(n)}}class PI extends R0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HC(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>qC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class UI extends LI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Um(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Um(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ie.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class zI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{$s(this)&&(ce(Gs,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.Ea.add(4),await mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gh(g)}(this))})}),this.Ra=new jI(s,o)}}async function Gh(r){if($s(r))for(const e of r.da)await e(!0)}async function mu(r){for(const e of r.da)await e(!1)}function C0(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cp(n)?Rp(n):Eo(n).O_()&&wp(n,e))}function bp(r,e){const n=we(r),s=Eo(n);n.Ia.delete(e),s.O_()&&I0(n,e),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Ra.set("Unknown"))}function wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).Y_(e)}function I0(r,e){r.Va.Ue(e),Eo(r).Z_(e)}function Rp(r){r.Va=new MC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.Ra.ua()}function Cp(r){return $s(r)&&!Eo(r).x_()&&r.Ia.size>0}function $s(r){return we(r).Ea.size===0}function D0(r){r.Va=void 0}async function BI(r){r.Ra.set("Online")}async function qI(r){r.Ia.forEach((e,n)=>{wp(r,e)})}async function HI(r,e){D0(r),Cp(r)?(r.Ra.ha(e),Rp(r)):r.Ra.set("Unknown")}async function FI(r,e,n){if(r.Ra.set("Online"),e instanceof d0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ce(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ih?r.Va.Ze(e):e instanceof f0?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await b0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),I0(u,p);const w=new Ur(E.target,p,g,E.sequenceNumber);wp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ce(Gs,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!vo(e))throw e;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>b0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)})}function N0(r,e){return e().catch(n=>Sh(r,n,e))}async function Kh(r){const e=we(r),n=Xr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:up;for(;GI(e);)try{const o=await RI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KI(e,o)}catch(o){await Sh(e,o)}x0(e)&&O0(e)}function GI(r){return $s(r)&&r.Ta.length<10}function KI(r,e){r.Ta.push(e);const n=Xr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function x0(r){return $s(r)&&!Xr(r).x_()&&r.Ta.length>0}function O0(r){Xr(r).start()}async function QI(r){Xr(r).ra()}async function YI(r){const e=Xr(r);for(const n of r.Ta)e.ea(n.mutations)}async function XI(r,e,n){const s=r.Ta.shift(),o=yp.from(s,e,n);await N0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kh(r)}async function $I(r,e){e&&Xr(r).X_&&await async function(s,o){if(function(f){return xC(f)&&f!==ie.ABORTED}(o.code)){const u=s.Ta.shift();Xr(s).B_(),await N0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(s)}}(r,e),x0(r)&&O0(r)}async function mE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(Gs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function WI(r,e){const n=we(r);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function Eo(r){return r.ma||(r.ma=function(n,s,o){const u=we(n);return u.sa(),new VI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:BI.bind(null,r),t_:qI.bind(null,r),r_:HI.bind(null,r),H_:FI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Cp(r)?Rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),D0(r))})),r.ma}function Xr(r){return r.fa||(r.fa=function(n,s,o){const u=we(n);return u.sa(),new PI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,r),r_:$I.bind(null,r),ta:YI.bind(null,r),na:XI.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ip(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),vo(r))return new de(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ga=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ho(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JI{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=gE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function gE(){return new Xs(r=>JT(r),jh)}async function k0(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Np(n)}async function M0(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e2(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Np(n)}function t2(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Np(r){r.Ca.forEach(e=>{e.next()})}var Hm,yE;(yE=Hm||(Hm={})).Ma="default",yE.Cache="cache";class V0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.key=e}}class L0{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=e0(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new pE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const b=o.get(E),M=zh(this.query,w)?w:null,V=!!b&&this.mutatedKeys.has(b.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;b&&M?b.data.isEqual(M.data)?V!==Q&&(s.track({type:3,doc:M}),F=!0):this.su(b,M)||(s.track({type:2,doc:M}),F=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),F=!0):b&&!M&&(s.track({type:1,doc:b}),F=!0,(p||g)&&(m=!0)),F&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,w)=>function(M,V){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:F})}};return Q(M)-Q(V)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new L0(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new P0(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class i2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r2{constructor(e){this.key=e,this.hu=!1}}class s2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xs(m=>JT(m),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ye.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a2(r,e,n=!0){const s=H0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await U0(s,e,n,!0),o}async function o2(r,e){const n=H0(r);await U0(n,e,!0,!1)}async function U0(r,e,n,s){const o=await CI(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await l2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&C0(r.remoteStore,o),m}async function l2(r,e,n,s,o){r.pu=(w,b,M)=>async function(Q,F,$,ae){let re=F.view.ru($);re.Cs&&(re=await uE(Q.localStore,F.query,!1).then(({documents:x})=>F.view.ru(x,re)));const he=ae&&ae.targetChanges.get(F.targetId),Z=ae&&ae.targetMismatches.get(F.targetId)!=null,ue=F.view.applyChanges(re,Q.isPrimaryClient,he,Z);return vE(Q,F.targetId,ue.au),ue.snapshot}(r,w,b,M);const u=await uE(r.localStore,e,!0),f=new n2(e,u.Qs),m=f.ru(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);vE(r,n,g.au);const E=new i2(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function u2(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!jh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bp(s.remoteStore,o.targetId),Fm(s,o.targetId)}).catch(_o)):(Fm(s,o.targetId),await Bm(s.localStore,o.targetId,!0))}async function c2(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bp(n.remoteStore,s.targetId))}async function h2(r,e,n){const s=_2(r);try{const o=await function(f,m){const p=we(f),g=nt.now(),E=m.reduce((M,V)=>M.add(V.key),Me());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=er(),Q=Me();return p.Ns.getEntries(M,E).next(F=>{V=F,V.forEach(($,ae)=>{ae.isValidDocument()||(Q=Q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,V)).next(F=>{w=F;const $=[];for(const ae of m){const re=RC(ae,w.get(ae.key).overlayedDocument);re!=null&&$.push(new Zr(ae.key,re,KT(re.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,$,m)}).next(F=>{b=F;const $=F.applyToLocalDocumentSet(w,Q);return p.documentOverlayCache.saveOverlays(M,F.batchId,$)})}).then(()=>({batchId:b.batchId,changes:n0(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ot(ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await pu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Dp(o,"Failed to persist write");n.reject(u)}}async function j0(r,e){const n=we(r);try{const s=await bI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await pu(n,s,e)}catch(s){await _o(s)}}function _E(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const b of w.Sa)b.va(m)&&(g=!0)}),g&&Np(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function f2(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=Me().add(u),p=new Hh(be.min(),new Map,new ot(ke),f,m);await j0(s,p),s.du=s.du.remove(u),s.Au.delete(e),Op(s)}else await Bm(s.localStore,e,!1).then(()=>Fm(s,e,n)).catch(_o)}async function d2(r,e){const n=we(r),s=e.batch.batchId;try{const o=await AI(n.localStore,e);B0(n,s,null),z0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await _o(o)}}async function m2(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);B0(s,e,n),z0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await _o(o)}}function z0(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function B0(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||q0(r,s)})}function q0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Op(r))}function vE(r,e,n){for(const s of n)s instanceof P0?(r.Ru.addReference(s.key,e),p2(r,s)):s instanceof L0?(ce(xp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||q0(r,s.key)):Te(19791,{wu:s})}function p2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(xp,"New document in limbo: "+n),r.Eu.add(s),Op(r))}function Op(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new r2(n)),r.du=r.du.insert(n,s),C0(r.remoteStore,new Ur(ui(mp(n.path)),s,"TargetPurposeLimboResolution",Vh.ce))}}async function pu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Sp.As(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,b=>ee.forEach(b.Es,M=>E.persistence.referenceDelegate.addReference(w,b.targetId,M)).next(()=>ee.forEach(b.ds,M=>E.persistence.referenceDelegate.removeReference(w,b.targetId,M)))))}catch(w){if(!vo(w))throw w;ce(Ap,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const M=E.Ms.get(b),V=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(V);E.Ms=E.Ms.insert(b,Q)}}}(s.localStore,u))}async function g2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(xp,"User change. New user:",e.toKey());const s=await A0(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new de(ie.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function y2(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function H0(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=j0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Pu.H_=e2.bind(null,e.eventManager),e.Pu.yu=t2.bind(null,e.eventManager),e}function _2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m2.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SI(this.persistence,new vI,e.initialUser,this.serializer)}Cu(e){return new S0(Tp.mi,this.serializer)}Du(e){return new DI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class v2 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new S0(s=>Th.mi(s,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JI}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=function(u){return new MI(u)}(e.databaseInfo);return function(u,f,m,p){return new UI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new zI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_E(this.syncEngine,n,0),function(){return fE.v()?new fE:new NI}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new s2(o,u,f,m,p,g);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(Gs,"RemoteStore shutting down."),u.Ea.add(5),await mu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class E2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),ce($r,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await A0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function EE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await T2(r);ce($r,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>mE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>mE(e.remoteStore,o)),r._onlineComponents=e}async function T2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce($r,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Ah)}}else ce($r,"Using default OfflineComponentProvider"),await Em(r,new v2(void 0));return r._offlineComponents}async function G0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce($r,"Using user provided OnlineComponentProvider"),await EE(r,r._uninitializedComponentsProvider._online)):(ce($r,"Using default OnlineComponentProvider"),await EE(r,new Gm))),r._onlineComponents}function S2(r){return G0(r).then(e=>e.syncEngine)}async function K0(r){const e=await G0(r),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=u2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),n}function A2(r,e,n={}){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new F0({next:b=>{E.Nu(),f.enqueueAndForget(()=>M0(u,w));const M=b.docs.has(m);!M&&b.fromCache?g.reject(new de(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&p&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new V0(mp(m.path),E,{includeMetadataChanges:!0,qa:!0});return k0(u,w)}(await K0(r),r.asyncQueue,e,n,s)),s.promise}function b2(r,e,n={}){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new F0({next:b=>{E.Nu(),f.enqueueAndForget(()=>M0(u,w)),b.fromCache&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new V0(m,E,{includeMetadataChanges:!0,qa:!0});return k0(u,w)}(await K0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y0,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new DR;switch(s.type){case"firstParty":return new kR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=TE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),TE.delete(n),s.terminate())}(this),Promise.resolve()}}function w2(r,e,n,s={}){var g;r=Ji(r,Qh);const o=po(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(vT(`https://${m}`),ET("Firestore",!0)),u.host!==Y0&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=$t.MOCK_USER;else{E=ew(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $t(b)}r._authCredentials=new NR(new MT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,It._jsonSchema))return new It(e,s||null,new ye(tt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Tt("string",It._jsonSchemaVersion),referencePath:Tt("string")};class Hr extends Yh{constructor(e,n,s){super(e,n,mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ye(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function bh(r,e,...n){if(r=Ft(r),VT("collection","path",e),r instanceof Qh){const s=tt.fromString(e,...n);return Lv(s),new Hr(r,null,s)}{if(!(r instanceof It||r instanceof Hr))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Lv(s),new Hr(r.firestore,null,s)}}function Wa(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=op.newId()),VT("doc","path",e),r instanceof Qh){const s=tt.fromString(e,...n);return Pv(s),new It(r,null,new ye(s))}{if(!(r instanceof It||r instanceof Hr))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Pv(s),new It(r.firestore,r instanceof Hr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class wE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w0(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&ce(bE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;ce(bE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",RE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class To extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new wE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,await e}}}function R2(r,e){const n=typeof r=="object"?r:bT(),s=typeof r=="string"?r:mh,o=sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Z1("firestore");u&&w2(o,...u)}return o}function kp(r){if(r._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||C2(r),r._firestoreClient}function C2(r){var s,o,u;const e=r._freezeSettings(),n=function(m,p,g,E){return new $R(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Q0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new E2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Gt.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Tt("string",On._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Tt("string",hi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fi(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Tt("string",fi._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^__.*__$/;class D2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class X0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($0(this.Ac)&&I2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new Vp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W0(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new N2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function x2(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Pp("Data must be an object, but it was:",f,s);const m=Z0(s,f);let p,g;if(u.merge)p=new _n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=Km(e,w,n);if(!f.contains(b))throw new de(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);eS(E,b)||E.push(b)}p=new _n(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new D2(new ln(m),p,g)}class $h extends Mp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function O2(r,e,n,s){const o=r.Cc(1,e,n);Pp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();Wr(s,(p,g)=>{const E=Lp(e,p,n);g=Ft(g);const w=o.yc(E);if(g instanceof $h)u.push(E);else{const b=Wh(g,w);b!=null&&(u.push(E),f.set(E,b))}});const m=new _n(u);return new X0(f,m,o.fieldTransforms)}function k2(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Km(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Km(e,u[b])),p.push(u[b+1]);const g=[],E=ln.empty();for(let b=m.length-1;b>=0;--b)if(!eS(g,m[b])){const M=m[b];let V=p[b];V=Ft(V);const Q=f.yc(M);if(V instanceof $h)g.push(M);else{const F=Wh(V,Q);F!=null&&(g.push(M),E.set(M,F))}}const w=new _n(g);return new X0(E,w,f.fieldTransforms)}function Wh(r,e){if(J0(r=Ft(r)))return Pp("Unsupported field value:",e,r),Z0(r,e);if(r instanceof Mp)return function(s,o){if(!$0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Wh(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:m0(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(f,m){return{mapValue:{fields:{[FT]:{stringValue:GT},[ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return pp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${lp(s)}`)}(r,e)}function Z0(r,e){const n={};return UT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(r,(s,o)=>{const u=Wh(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function J0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof hi||r instanceof On||r instanceof It||r instanceof Mp||r instanceof fi)}function Pp(r,e,n){if(!J0(n)||!PT(n)){const s=lp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Km(r,e,n){if((e=Ft(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Lp(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const M2=new RegExp("[~\\*/\\[\\]]");function Lp(r,e,n){if(e.search(M2)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ie.INVALID_ARGUMENT,m+r+p)}function eS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V2 extends tS{data(){return super.data()}}function nS(r,e){return typeof e=="string"?Lp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L2{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[ph].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>pt(f.doubleValue));return new fi(n)}convertGeoPoint(e){return new hi(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(E0(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bs extends tS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Tt("string",Bs._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class rh extends Bs{data(e={}){return super.data(e)}}class to{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:j2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){r=Ji(r,It);const e=Ji(r.firestore,To);return A2(kp(e),r._key).then(n=>q2(e,r,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Tt("string",to._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class rS extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Up(r){r=Ji(r,Yh);const e=Ji(r.firestore,To),n=kp(e),s=new rS(e);return P2(r._query),b2(n,r._query).then(o=>new to(e,s,r,o))}function CE(r,e,n,...s){r=Ji(r,It);const o=Ji(r.firestore,To),u=W0(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Xh?k2(u,"updateDoc",r._key,e,n,s):O2(u,"updateDoc",r._key,e),jp(o,[f.toMutation(r._key,Bn.exists(!0))])}function z2(r){return jp(Ji(r.firestore,To),[new gp(r._key,Bn.none())])}function B2(r,e){const n=Ji(r.firestore,To),s=Wa(r),o=U2(r.converter,e);return jp(n,[x2(W0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function jp(r,e){return function(s,o){const u=new Xi;return s.asyncQueue.enqueueAndForget(async()=>h2(await S2(s),o,u)),u.promise}(kp(r),e)}function q2(r,e,n){const s=n.docs.get(e._key),o=new rS(r);return new Bs(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(go),so(new Hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new To(new xR(s.getProvider("auth-internal")),new MR(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Br(Ov,kv,e),Br(Ov,kv,"esm2020")})();function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H2=sS,aS=new uu("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new ip("@firebase/auth");function F2(r,...e){Rh.logLevel<=Oe.WARN&&Rh.warn(`Auth (${go}): ${r}`,...e)}function sh(r,...e){Rh.logLevel<=Oe.ERROR&&Rh.error(`Auth (${go}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw zp(r,...e)}function di(r,...e){return zp(r,...e)}function oS(r,e,n){const s={...H2(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:r.name})}function Fr(r){return oS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aS.create(r,...e)}function Ee(r,e,...n){if(!r)throw zp(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function tr(r,e){r||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function G2(){return IE()==="http:"||IE()==="https:"}function IE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G2()||aw()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=iw()||ow()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new gu(3e4,6e4);function Ws(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Jr(r,e,n,s,o={}){return uS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return sw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),lS.fetch()(await cS(r,r.config.apiHost,n,m),g)})}async function uS(r,e,n){r._canInitEmulator=!1;const s={...Y2,...e};try{const o=new Z2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oS(r,E,g);Hn(r,E)}}catch(o){if(o instanceof ir)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function Zh(r,e,n,s,o={}){const u=await Jr(r,e,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Bp(r.config,o):`${r.config.apiScheme}://${o}`;return X2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function W2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),$2.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(r,e,s);return o.customData._tokenResponse=n,o}function DE(r){return r!==void 0&&r.enterprise!==void 0}class J2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eD(r,e){return Jr(r,"GET","/v2/recaptchaConfig",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(r,e){return Jr(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return Jr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nD(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=qp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(Tm(o.auth_time)),issuedAtTime:Xl(Tm(o.iat)),expirationTime:Xl(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function NE(r){const e=qp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ir&&iD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){var w;const e=r.auth,n=await r.getIdToken(),s=await ru(r,Ch(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?hS(o.providerUserInfo):[],f=aD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function sD(r){const e=Ft(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,e){const n=await uS(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await cS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(p.credentials="include"),lS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lD(r,e){return Jr(r,"POST","/v2/accounts:revokeToken",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=NE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await oD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new rD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nD(this,e)}reload(){return sD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await ru(this,tD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:M,providerData:V,stsTokenManager:Q}=n;Ee(w&&Q,e,"internal-error");const F=no.fromJSON(this.name,Q);Ee(typeof w=="string",e,"internal-error"),kr(s,e.name),kr(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),kr(u,e.name),kr(f,e.name),kr(m,e.name),kr(p,e.name),kr(g,e.name),kr(E,e.name);const $=new zn({uid:w,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return V&&Array.isArray(V)&&($.providerData=V.map(ae=>({...ae}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function Qi(r){tr(r instanceof Function,"Expected a class definition");let e=xE.get(r);return e?(tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,xE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fS.type="NONE";const OE=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Qi(OE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(OE);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const b=await Ch(e,{idToken:E}).catch(()=>{});if(!b)break;w=await zn._fromGetAccountInfoResponse(e,b,E)}else w=zn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(vS(e))return"Webos";if(mS(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(yS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function dS(r=Zt()){return/firefox\//i.test(r)}function mS(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(r=Zt()){return/crios\//i.test(r)}function gS(r=Zt()){return/iemobile/i.test(r)}function yS(r=Zt()){return/android/i.test(r)}function _S(r=Zt()){return/blackberry/i.test(r)}function vS(r=Zt()){return/webos/i.test(r)}function Hp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uD(r=Zt()){var e;return Hp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function cD(){return lw()&&document.documentMode===10}function ES(r=Zt()){return Hp(r)||yS(r)||vS(r)||_S(r)||/windows phone/i.test(r)||gS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,e=[]){let n;switch(r){case"Browser":n=kE(Zt());break;case"Worker":n=`${kE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e={}){return Jr(r,"GET","/v2/passwordPolicy",Ws(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=6;class mD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Fr(this));const n=e?Ft(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),n=new mD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&F2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function So(r){return Ft(r)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=gw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gD(r){Jh=r}function SS(r){return Jh.loadJS(r)}function yD(){return Jh.recaptchaEnterpriseScript}function _D(){return Jh.gapiScript}function vD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ED{constructor(){this.enterprise=new TD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SD="recaptcha-enterprise",AS="NO_RECAPTCHA";class AD{constructor(e){this.type=SD,this.auth=So(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{eD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new J2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;DE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(AS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ED().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&DE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=yD();p.length!==0&&(p+=m),SS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function VE(r,e,n,s=!1,o=!1){const u=new AD(r);let f;if(o)f=AS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function PE(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await VE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await VE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,e){const n=sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function wD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function RD(r,e,n){const s=So(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=bS(e),{host:f,port:m}=CD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(qs(g,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,po(f)?(vT(`${u}//${f}${p}`),ET("Auth",!0)):ID()}function bS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function CD(r){const e=bS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:LE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:LE(f)}}}function LE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ID(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function DD(r,e){return Jr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(r,e){return Zh(r,"POST","/v1/accounts:signInWithPassword",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(r,e){return Zh(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}async function OD(r,e){return Zh(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PE(e,n,"signInWithPassword",ND);case"emailLink":return xD(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PE(e,s,"signUpPassword",DD);case"emailLink":return OD(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,e){return Zh(r,"POST","/v1/accounts:signInWithIdp",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="http://localhost";class Ks extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:kD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VD(r){const e=Ll(Ul(r)).link,n=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(r)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||e||r}class Gp{constructor(e){const n=Ll(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=MD(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VD(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return Ee(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends wS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends yu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends yu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await zn._fromIdTokenResponse(e,s,o),f=UE(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=UE(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function UE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends ir{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function RS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,s):u})}async function PD(r,e,n=!1){const s=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(Fr(s));const o="reauthenticate";try{const u=await ru(r,RS(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=qp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(r,e,n=!1){if(jn(r.app))return Promise.reject(Fr(r));const s="signIn",o=await RS(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function UD(r,e){return CS(So(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(r){const e=So(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zD(r,e,n){return jn(r.app)?Promise.reject(Fr(r)):UD(Ft(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jD(r),s})}function BD(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function qD(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function HD(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function oh(r){return Ft(r).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,GD=10;class DS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const KD=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NS.type="SESSION";const xS=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await QD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function XD(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function $D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function ZD(){return OS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",JD=1,xh="firebaseLocalStorage",MS="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function eN(){const r=indexedDB.deleteDatabase(kS);return new _u(r).toPromise()}function Xm(){const r=indexedDB.open(kS,JD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:MS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await eN(),e(await Xm()))})})}async function jE(r,e,n){const s=tf(r,!0).put({[MS]:e,value:n});return new _u(s).toPromise()}async function tN(r,e){const n=tf(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function zE(r,e){const n=tf(r,!0).delete(e);return new _u(n).toPromise()}const nN=800,iN=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await $D(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await jE(e,Nh,"1"),await zE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const rN=VS;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r,e){return e?Qi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aN(r){return CS(r.auth,new Qp(r),r.bypassAuthState)}function oN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),LD(n,new Qp(r),r.bypassAuthState)}async function lN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),PD(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aN;case"linkViaPopup":case"linkViaRedirect":return lN;case"reauthViaPopup":case"reauthViaRedirect":return oN;default:Hn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new gu(2e3,1e4);class Za extends PS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uN.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="pendingRedirect",lh=new Map;class hN extends PS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await fN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fN(r,e){const n=pN(e),s=mN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dN(r,e){lh.set(r._key(),e)}function mN(r){return Qi(r._redirectPersistence)}function pN(r){return ah(cN,r.config.apiKey,r.name)}async function gN(r,e,n=!1){if(jn(r.app))return Promise.reject(Fr(r));const s=So(r),o=sN(s,e),f=await new hN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class _N{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(di(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(e))}saveEventToCache(e){this.cachedEventUids.add(BE(e)),this.lastProcessedEventTime=Date.now()}}function BE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,e={}){return Jr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function AN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EN(r);for(const n of e)try{if(bN(n))return}catch{}Hn(r,"unauthorized-domain")}function bN(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SN.test(n))return!1;if(TN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new gu(3e4,6e4);function qE(){const r=mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RN(r){return new Promise((e,n)=>{var o,u,f;function s(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(di(r,"network-request-failed"))},timeout:wN.get()})}if((u=(o=mi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=mi().gapi)!=null&&f.load)s();else{const m=vD("iframefcb");return mi()[m]=()=>{gapi.load?s():n(di(r,"network-request-failed"))},SS(`${_D()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function CN(r){return uh=uh||RN(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new gu(5e3,15e3),DN="__/auth/iframe",NN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Bp(e,NN):`https://${r.config.authDomain}/${DN}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=ON.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function MN(r){const e=await CN(r),n=mi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:kN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=di(r,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},IN.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PN=500,LN=600,UN="_blank",jN="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zN(r,e,n,s=PN,o=LN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...VN,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=pS(g)?UN:n),dS(g)&&(e=e||jN,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[M,V])=>`${b}${M}=${V},`,"");if(uD(g)&&m!=="_self")return BN(e||"",m),new HE(null);const w=window.open(e||"",m,E);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new HE(w)}function BN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__/auth/handler",HN="emulator/auth/handler",FN=encodeURIComponent("fac");async function FE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof wS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",pw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof yu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${FN}=${encodeURIComponent(p)}`:"";return`${GN(r)}?${cu(m).slice(1)}${g}`}function GN({config:r}){return r.emulator?Bp(r,HN):`https://${r.authDomain}/${qN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class KN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xS,this._completeRedirectFn=gN,this._overrideRedirectResult=dN}async _openPopup(e,n,s,o){var f;tr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await FE(e,n,s,Qm(),o);return zN(e,u,Kp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await FE(e,n,s,Qm(),o);return XD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await MN(e),s=new _N(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Sm];u!==void 0&&n(!!u),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||mS()||Hp()}}const QN=KN;var GE="@firebase/auth",KE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $N(r){so(new Hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(r)},g=new pD(s,o,u,p);return wD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Hs("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(s=>new YN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(GE,KE,XN(r)),Br(GE,KE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=5*60,ZN=_T("authIdTokenMaxAge")||WN;let QE=null;const JN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZN)return;const o=n==null?void 0:n.token;QE!==o&&(QE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ex(r=bT()){const e=sp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bD(r,{popupRedirectResolver:QN,persistence:[rN,KD,xS]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JN(u.toString());qD(n,f,()=>f(n.currentUser)),BD(n,m=>f(m))}}const o=gT("auth");return o&&RD(n,`http://${o}`),n}function tx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}gD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$N("Browser");const nx={apiKey:"AIzaSyDqaO972MvPl1Hjxwi7SMVnwe7yUKKUJ-g",authDomain:"lokstallet-5147c.firebaseapp.com",projectId:"lokstallet-5147c",storageBucket:"lokstallet-5147c.firebasestorage.app",messagingSenderId:"1031492726413",appId:"1:1031492726413:web:19b3e635337900aee17cc4",measurementId:"G-ZFDGFC2884"},US=AT(nx),Gi=R2(US),Ja=ex(US),ix="/MMV/assets/loklokal-Bs2YmE3e.jpg",jS="/MMV/assets/lokstalletheader-CDM-484d.png",YE=()=>{const[r,e]=q.useState([]),n=q.useRef(null),s=async()=>{let f=(await Up(bh(Gi,"events"))).docs.map(m=>({id:m.id,...m.data()}));f.sort((m,p)=>new Date(m.date)-new Date(p.date)),e(f)};q.useEffect(()=>{s()},[]),q.useEffect(()=>{const u=new IntersectionObserver((m,p)=>{m.forEach(g=>{g.isIntersecting&&(g.target.classList.add("animate"),p.unobserve(g.target))})},{threshold:.3}),f=document.querySelectorAll(".inner-line");return f.forEach(m=>u.observe(m)),()=>{f.forEach(m=>u.unobserve(m))}},[]);const o=r.filter(u=>!u.hidden);return S.jsxs("main",{children:[S.jsxs("section",{className:"welcome-section",children:[S.jsx("div",{className:"welcome-left",children:S.jsx("img",{src:jS,alt:"Lokstallet"})}),S.jsxs("div",{className:"welcome-right",children:[S.jsx("h3",{children:"Välkommen till Lokstallet"}),S.jsx("p",{children:"Lokstallet är Skövdes hjärta för kultur och evenemang. Här hittar du allt från konserter och teaterföreställningar till workshops och matupplevelser. Vi erbjuder en unik miljö med historia och modern komfort."}),S.jsx("p",{children:"Utforska vårt program, boka biljetter och upplev oförglömliga stunder hos oss!"})]})]}),S.jsx("section",{id:"home-events",children:S.jsxs("div",{className:"home-events-container",children:[S.jsxs("div",{className:"home-events-header",children:[S.jsxs("div",{ref:n,className:"inner-line",children:[S.jsx("h2",{children:"Event"}),S.jsx("p",{children:"Detta händer hos oss."})]}),S.jsx(Hl,{to:"/evenemang-lokstallet",className:"home-btn",children:"Se alla evenemang"})]}),S.jsx("div",{className:"home-events",children:o.map(u=>S.jsxs("article",{className:"home-event",children:[u.image&&S.jsx("img",{src:u.image,alt:u.title,className:"home-event-img"}),S.jsxs("div",{className:"home-event-content",children:[S.jsxs("div",{className:"home-event-date",children:[S.jsx("span",{className:"home-event-day",children:new Date(u.date).toLocaleDateString("sv-SE",{day:"2-digit"})}),S.jsx("span",{className:"home-event-month",children:new Date(u.date).toLocaleDateString("sv-SE",{month:"short"}).toUpperCase()})]}),S.jsxs("div",{className:"home-event-info",children:[S.jsx("h3",{className:"home-event-title",children:u.title}),u.description&&S.jsx("p",{className:"home-event-desc",children:u.description.length>100?u.description.substring(0,100)+"...":u.description}),S.jsx(Hl,{to:"/evenemang-lokstallet",className:"homes-btn",children:"Läs mer"})]})]})]},u.id))})]})}),S.jsxs("section",{className:"lokal-section",children:[S.jsxs("div",{className:"lokal-left",children:[S.jsxs("div",{className:"inner-deco",children:[S.jsx("h3",{children:"Musik."}),S.jsx("h3",{children:"Evenemang."}),S.jsx("h3",{children:"Möten."})]}),S.jsx("p",{children:"Hos oss hittar du en lokal med historia, atmosfär och modern komfort. Perfekt för allt från konserter och teater till bröllop, fester och konferenser."}),S.jsx(Hl,{to:"/lokaler",className:"lokal-btn",children:"Utforska lokalerna"})]}),S.jsx("div",{className:"lokal-center",children:S.jsx("img",{src:ix,alt:"Lokal"})})]})]})};function rx(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState("nej"),[p,g]=q.useState("nej"),[E,w]=q.useState(""),[b,M]=q.useState("nej"),[V,Q]=q.useState(0),[F,$]=q.useState(1),[ae,re]=q.useState(""),[he,Z]=q.useState(""),[ue,x]=q.useState(""),[R,C]=q.useState(""),[O,P]=q.useState(""),[U,D]=q.useState(""),[lt,Fe]=q.useState(""),Y=n==="annat";function le(){ae&&he&&fetch("/sendmail.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ae,email:he})}).catch(()=>{console.warn("Kunde inte spara lead just nu.")})}function me(){if(!ae||!he){Fe("Vänligen fyll i namn och e-post för att fortsätta.");return}le(),Fe(""),$(2)}function je(){if(D(""),!r){D("Vänligen välj en lokal innan du beräknar pris.");return}const te={köket:1e3,lillaScenen:2e3,storaScenen:5e3,konferensrum:1500,helaLokalen:7e3,dagskontor:800};let se=0;te[r]&&(se+=te[r]),f==="ja"&&(se+=1500),p==="ja"&&(se+=1200);const ge=Number(E),Ce=isNaN(ge)?0:ge;se+=Ce*500,b==="ja"&&(se+=2e3),Q(se)}function N(){if(Fe(""),!ae||!he||!ue||ue==="företag"&&!R||!O){Fe("Vänligen fyll i alla obligatoriska fält innan du skickar din förfrågan.");return}fetch("/sendmail.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({local:r,eventType:n,otherEventDescription:o,audioTech:f,lightTech:p,extraPersonnel:E,catering:b,price:V,name:ae,email:he,customerType:ue,orgNumber:R,phone:O})}).then(se=>se.json()).then(se=>{se.success?alert("Förfrågan skickad! Vi hör av oss snart."):Fe("Något gick fel, försök igen senare.")}).catch(()=>{Fe("Nätverksfel, försök igen senare.")})}const ne=S.jsxs(S.Fragment,{children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Lokal:"})," ",r||"Ej valt"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Evenemangstyp:"})," ",n||"Ej valt"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Beskrivning av evenemang:"})," ",n==="annat"&&o||"Ej valt"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Ljudtekniker:"})," ",f]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Ljustekniker:"})," ",p]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Extra personal:"})," ",E||0]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Catering:"})," ",b]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Totalpris:"})," ",V.toLocaleString()," SEK"]})]});return S.jsx("main",{className:"bokamain",children:S.jsxs("div",{className:"forme-container",children:[S.jsx("h1",{children:"Boka Lokstallet."}),F===1&&S.jsxs("section",{id:"step1",children:[S.jsx("h2",{children:"Kontaktuppgifter"}),lt&&S.jsx("p",{className:"error",children:lt}),S.jsx("label",{htmlFor:"name",children:"Namn:"}),S.jsx("input",{type:"text",id:"name",value:ae,onChange:te=>re(te.target.value)}),S.jsx("label",{htmlFor:"email",children:"E-post:"}),S.jsx("input",{type:"email",id:"email",value:he,onChange:te=>Z(te.target.value)}),S.jsx("button",{onClick:me,disabled:!ae||!he,children:"Fortsätt"})]}),F===2&&S.jsxs(S.Fragment,{children:[S.jsxs("section",{id:"step2",children:[S.jsx("h2",{children:"Lokal och tillval – Din fest, dina regler!"}),S.jsx("label",{htmlFor:"local",children:"Välj lokal:"}),S.jsxs("select",{id:"local",value:r,onChange:te=>e(te.target.value),children:[S.jsx("option",{value:"",children:"Välj..."}),S.jsx("option",{value:"köket",children:"Köket"}),S.jsx("option",{value:"lillaScenen",children:"Lilla Scenen"}),S.jsx("option",{value:"storaScenen",children:"Stora Scenen"}),S.jsx("option",{value:"konferensrum",children:"Konferensrum"}),S.jsx("option",{value:"helaLokalen",children:"Hela lokalen"}),S.jsx("option",{value:"dagskontor",children:"Dagskontor"})]}),S.jsx("label",{htmlFor:"eventType",children:"Typ av evenemang:"}),S.jsxs("select",{id:"eventType",value:n,onChange:te=>s(te.target.value),children:[S.jsx("option",{value:"",children:"Välj..."}),S.jsx("option",{value:"konsert",children:"Konsert"}),S.jsx("option",{value:"teater",children:"Teater"}),S.jsx("option",{value:"föreläsning",children:"Föreläsning"}),S.jsx("option",{value:"konferens",children:"Konferens"}),S.jsx("option",{value:"privat",children:"Privat (bröllop m.m.)"}),S.jsx("option",{value:"workshop",children:"Workshop"}),S.jsx("option",{value:"annat",children:"Annat"})]}),Y&&S.jsxs("div",{id:"otherEvent",children:[S.jsx("label",{htmlFor:"otherEventDescription",children:"Beskriv ditt evenemang:"}),S.jsx("textarea",{id:"otherEventDescription",placeholder:"Skriv här...",value:o,onChange:te=>u(te.target.value)})]}),S.jsx("label",{htmlFor:"audioTech",children:"Ljudtekniker:"}),S.jsxs("select",{id:"audioTech",value:f,onChange:te=>m(te.target.value),children:[S.jsx("option",{value:"nej",children:"Nej"}),S.jsx("option",{value:"ja",children:"Ja"}),S.jsx("option",{value:"egen",children:"Egen"})]}),S.jsx("label",{htmlFor:"lightTech",children:"Ljustekniker:"}),S.jsxs("select",{id:"lightTech",value:p,onChange:te=>g(te.target.value),children:[S.jsx("option",{value:"nej",children:"Nej"}),S.jsx("option",{value:"ja",children:"Ja"}),S.jsx("option",{value:"egen",children:"Egen"})]}),S.jsx("label",{htmlFor:"extraPersonnel",children:"Extra personal (antal):"}),S.jsx("input",{type:"number",id:"extraPersonnel",min:"0",value:E,onChange:te=>w(te.target.value),placeholder:"0"}),S.jsx("label",{htmlFor:"catering",children:"Catering:"}),S.jsxs("select",{id:"catering",value:b,onChange:te=>M(te.target.value),children:[S.jsx("option",{value:"nej",children:"Nej"}),S.jsx("option",{value:"ja",children:"Ja"})]}),S.jsx("button",{onClick:je,disabled:!r,children:"Beräkna pris"}),U&&S.jsx("p",{className:"error",children:U}),S.jsxs("p",{id:"priceOutput",children:["Totalpris: ",V.toLocaleString()," SEK"]})]}),S.jsxs("section",{id:"contactForm",style:{marginTop:"2em"},children:[S.jsx("h2",{children:"Fyll i mer kontaktinfo"}),lt&&S.jsx("p",{className:"error",children:lt}),S.jsx("label",{htmlFor:"customerType",children:"Välj typ:"}),S.jsxs("select",{id:"customerType",value:ue,onChange:te=>x(te.target.value),children:[S.jsx("option",{value:"",children:"Välj..."}),S.jsx("option",{value:"privatperson",children:"Privatperson"}),S.jsx("option",{value:"företag",children:"Företag"}),S.jsx("option",{value:"arrangör",children:"Arrangör"})]}),ue==="privatperson"&&S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"phone",children:"Telefonnummer:"}),S.jsx("input",{type:"tel",id:"phone",placeholder:"070-123 45 67",value:O,onChange:te=>P(te.target.value)})]}),ue==="företag"&&S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"orgNumber",children:"Organisationsnummer:"}),S.jsx("input",{type:"text",id:"orgNumber",placeholder:"ÅÅÅÅMMDD-XXXX",value:R,onChange:te=>C(te.target.value)}),S.jsx("label",{htmlFor:"phone",children:"Telefonnummer:"}),S.jsx("input",{type:"tel",id:"phone",placeholder:"070-123 45 67",value:O,onChange:te=>P(te.target.value)})]}),ue==="arrangör"&&S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"orgNumber",children:"Organisationsnummer (valfritt):"}),S.jsx("input",{type:"text",id:"orgNumber",placeholder:"ÅÅÅÅMMDD-XXXX",value:R,onChange:te=>C(te.target.value)}),S.jsx("label",{htmlFor:"phone",children:"Telefonnummer:"}),S.jsx("input",{type:"tel",id:"phone",placeholder:"070-123 45 67",value:O,onChange:te=>P(te.target.value)})]})]}),S.jsxs("section",{id:"summarySection",style:{marginTop:"1em"},children:[S.jsx("h3",{children:"Sammanfattning."}),S.jsx("div",{id:"summaryContent",children:ne}),S.jsx("button",{id:"submitForm",onClick:N,disabled:!ae||!he||!ue||ue==="företag"&&!R||!O,style:{marginTop:"1.5em"},children:"Skicka förfrågan"})]})]})]})})}const sx=()=>{const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),f=async()=>{try{const E=(await Up(bh(Gi,"events"))).docs.map(w=>{var M;const b=w.data();return{id:w.id,...b,date:(M=b.date)!=null&&M.toDate?b.date.toDate():new Date(b.date)}});E.sort((w,b)=>new Date(w.date)-new Date(b.date)),e(E),s(!1)}catch(g){console.error("Fel vid hämtning av events:",g),u("Kunde inte hämta evenemang. Försök igen senare."),s(!1)}};q.useEffect(()=>{f()},[]);const m=new Date;m.setHours(0,0,0,0);const p=r.filter(g=>!g.hidden&&g.date>=m);return n?S.jsx("p",{children:"Laddar evenemang..."}):o?S.jsx("p",{className:"error",children:o}):S.jsx("section",{id:"events",className:"evenemang-lokstallet",children:S.jsxs("div",{className:"evenemang-container",children:[S.jsx("h2",{className:"evenemang-title",children:"Vad händer på Lokstallet?"}),S.jsx("p",{className:"evenemang-intro",children:"Här hittar du aktuella evenemang och föreställningar."}),S.jsxs("div",{className:"event-grid",children:[p.length===0&&S.jsx("p",{children:"Inga aktuella evenemang att visa."}),p.map(g=>S.jsxs("article",{className:"event-card",children:[g.image&&S.jsx("img",{src:g.image,alt:g.title,className:"event-img"}),S.jsxs("div",{className:"event-content",children:[S.jsx("h3",{className:"event-heading",children:g.title}),S.jsxs("p",{className:"event-date",children:[S.jsxs("span",{className:"event-date-item",children:["Datum: ",g.date.toLocaleDateString()]}),g.time&&S.jsxs("span",{className:"event-date-item",children:["Tid: ",g.time]}),g.location&&S.jsxs("span",{className:"event-date-item",children:["Plats: ",g.location]})]}),S.jsx("p",{className:"event-description",children:g.description}),g.link&&S.jsx("a",{href:g.link,target:"_blank",rel:"noopener noreferrer",children:S.jsx("button",{className:"bt-l2",children:"Mer information/Biljetter"})})]})]},g.id))]})]})})},ax="_lokal_ca98d_19",ox="_visible_ca98d_185",lx="_hidden_ca98d_195",Fi={"lokaler-container":"_lokaler-container_ca98d_19",lokal:ax,"lokal-text":"_lokal-text_ca98d_89","lokal-bild":"_lokal-bild_ca98d_137","slide-image":"_slide-image_ca98d_161",visible:ox,hidden:lx,"guld-linje":"_guld-linje_ca98d_205"},Fa="/MMV/assets/gh4-1-CmsdHvy0.jpg",Ga="/MMV/assets/restu-3BQTbpVL.jpg",Ka="/MMV/assets/scen-CjbDjPhf.jpg",$c=[{title:"Köket",text:"Perfekt för matlagningsevent, mingel och workshops. Lokalen erbjuder ett fullt utrustat restaurangkök med stora arbetsytor, modern utrustning och en trivsam miljö för både små och stora sällskap. Köket är sammankopplat med serveringsytor vilket gör det perfekt för både kurser och privata matupplevelser.",images:[Ga,Fa,Ka]},{title:"Lilla Scenen",text:"Lilla scenen erbjuder en intim och flexibel yta för mindre uppträdanden, föreläsningar, samtal eller möten. Lokalen är utrustad med basljudsystem, justerbar belysning och möjlighet att möblera efter behov. Perfekt för akustiska spelningar, boklanseringar eller kreativa möten.",images:[Fa,Ga,Ka]},{title:"Stora Scenen",text:"Stora scenen är vår mest kraftfulla lokal med plats för både publik och artister. Här finns ett professionellt ljud- och ljussystem, hög scen, blackout-möjligheter och teknisk personal på begäran. Lokalen passar för konserter, teaterföreställningar, stand-up, lanseringar och stora föreläsningar.",images:[Ka,Fa,Ga]},{title:"Konferensrum",text:"Vårt moderna konferensrum är en ljus och trivsam lokal med plats för upp till 20 personer. Här finns projektor, whiteboard, konferensbord, ergonomiska stolar och snabbt WiFi. Perfekt för effektiva möten, strategidagar, utbildningar eller digitala presentationer.",images:[Ga,Fa,Ka]},{title:"Hela Lokalen",text:"För de riktigt stora tillfällena kan du boka hela lokalen. Det innebär tillgång till samtliga ytor – scen, kök, bar, foajé och konferensrum – och ger möjlighet att arrangera events med upp till 250 deltagare. Idealisk för bröllop, festivaler, företagsgalor eller mässor. Vi erbjuder även hjälp med planering, teknik och bemanning.",images:[Ka,Fa,Ga]},{title:"Dagskontor",text:"Behöver du en flexibel arbetsplats under dagen? Våra dagskontor erbjuder en tyst och professionell miljö med höj- och sänkbara skrivbord, bra belysning, WiFi, skrivare och kaffe. Lokalen lämpar sig för distansarbete, fokustid eller digitala möten och kan bokas per timme eller dag.",images:[Fa,Ga,Ka]}],ux=()=>{const[r,e]=q.useState($c.map(()=>0)),[n,s]=q.useState(!1),[o,u]=q.useState({});q.useEffect(()=>{const p=()=>{s(window.innerWidth<=768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),q.useEffect(()=>{if(!n){const p=setInterval(()=>{e(g=>g.map((E,w)=>(E+1)%$c[w].images.length))},3e3);return()=>clearInterval(p)}},[n]);const f=(p,g)=>{const E=p.touches[0].clientX;u(w=>({...w,[g]:E}))},m=(p,g,E)=>{const b=p.changedTouches[0].clientX-o[g];b>50?e(M=>M.map((V,Q)=>Q===g?(V-1+E)%E:V)):b<-50&&e(M=>M.map((V,Q)=>Q===g?(V+1)%E:V))};return S.jsxs("main",{className:Fi["lokaler-container"],children:[S.jsx("h1",{children:"Våra Lokaler"}),$c.map((p,g)=>S.jsxs($E.Fragment,{children:[S.jsxs("section",{className:Fi.lokal,children:[S.jsxs("div",{className:Fi["lokal-text"],children:[S.jsx("h2",{children:p.title}),S.jsx("p",{children:p.text})]}),S.jsx("div",{className:Fi["lokal-bild"],children:n?S.jsx("img",{src:p.images[r[g]],alt:`${p.title} bild ${r[g]+1}`,className:Fi["slide-image"],onTouchStart:E=>f(E,g),onTouchEnd:E=>m(E,g,p.images.length)}):p.images.map((E,w)=>S.jsx("img",{src:E,alt:`${p.title} bild ${w+1}`,className:`${Fi["slide-image"]} ${r[g]===w?Fi.visible:Fi.hidden}`},w))})]}),g<$c.length-1&&S.jsx("hr",{className:Fi["guld-linje"]})]},g))]})},cx="_container_17uos_3",hx="_inner_17uos_17",Pl={container:cx,inner:hx,"historia-section":"_historia-section_17uos_33","historia-left":"_historia-left_17uos_51","historia-center":"_historia-center_17uos_111"},fx="/MMV/assets/historia-fsm4-mk7.jpg";function dx(){return S.jsx("section",{className:Pl.container,children:S.jsx("div",{className:Pl.inner,children:S.jsxs("div",{className:Pl["historia-section"],children:[S.jsxs("div",{className:Pl["historia-left"],children:[S.jsx("h2",{children:"Lokstallets historia"}),S.jsxs("p",{children:["Namnet ",S.jsx("strong",{children:"Lokstallet"})," är en påminnelse om hur järnvägen en gång formade stadens puls. Fastighetsbeteckningen är Lokstallet 1. Det ursprungliga lokstallet låg inte precis på den plats där den nya scenen byggs, men alldeles nära, på andra sidan järnvägen där Skolgatan slutar, vid Kavelbrovägen — nu platsen för Volvos hus med det sågtandade taket."]}),S.jsx("p",{children:"Det gamla lokstallet uppfördes på 1870-talet i tegel med stallplatser, vattentorn, övernattningsrum och förråd. Under åren byggdes det ut — bland annat 1888 då ytterligare stallplatser tillkom."}),S.jsx("p",{children:"Som en blinkning till historien har vi också designat den nya takhuven med inspiration från gamla ånglok. En liten detalj som knyter ihop det förflutna med det vi skapar idag."})]}),S.jsx("div",{className:Pl["historia-center"],children:S.jsx("img",{src:fx,alt:"Lokstallet historisk bild"})})]})})})}const mx=()=>{const[r,e]=q.useState({namn:"",email:"",meddelande:""}),[n,s]=q.useState(null),[o,u]=q.useState(""),f=p=>{const{name:g,value:E}=p.target;e(w=>({...w,[g]:E}))},m=async p=>{p.preventDefault(),s("sending"),u("");try{const g=await fetch("https://www.lokstallett.se/kontakt.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!g.ok)throw new Error(`Serverfel: ${g.statusText}`);const E=await g.json();E.success?(s("success"),e({namn:"",email:"",meddelande:""})):(s("error"),u(E.message||"Något gick fel"))}catch(g){s("error"),u(g.message||"Något gick fel, försök igen senare")}};return S.jsxs("main",{className:"kontakt-wrapper",children:[S.jsxs("div",{className:"kontakt-left",children:[S.jsx("h2",{children:"Kontakt"}),S.jsxs("p",{children:[S.jsx("strong",{children:"E-post:"})," info@lokstallet.se"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Adress:"})," Drottninggatan 17, 541 51 Skövde"]})]}),S.jsxs("form",{className:"kontakt-form",onSubmit:m,children:[S.jsxs("label",{children:["Namn:",S.jsx("input",{type:"text",name:"namn",value:r.namn,onChange:f,required:!0,disabled:n==="sending"})]}),S.jsxs("label",{children:["E-post:",S.jsx("input",{type:"email",name:"email",value:r.email,onChange:f,required:!0,disabled:n==="sending"})]}),S.jsxs("label",{children:["Meddelande:",S.jsx("textarea",{name:"meddelande",value:r.meddelande,onChange:f,required:!0,disabled:n==="sending"})]}),n==="success"&&S.jsx("p",{className:"success-message",children:"Tack för ditt meddelande!"}),n==="error"&&S.jsxs("p",{className:"error-message",children:["Fel: ",o]}),S.jsx("button",{type:"submit",disabled:n==="sending",children:n==="sending"?"Skickar...":"Skicka"})]}),S.jsx("div",{className:"kontakt-map",children:S.jsx("iframe",{title:"Lokstallet Map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2091.534942555187!2d13.844044776589282!3d58.384379586298536!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x465b023be5523c4b%3A0xa5aa6a0dc67c2214!2sDrottninggatan%2017%2C%20541%2051%20Sk%C3%B6vde!5e0!3m2!1ssv!2sse!4v1754592253140!5m2!1ssv!2sse",width:"100%",height:"600",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})};function px(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=Zm(),m=async p=>{p.preventDefault(),u("");try{const E=(await zD(Ja,r,n)).user;(await iS(Wa(Gi,"admins",E.uid))).exists()?f("/admin"):(u("Du har inte adminbehörighet."),await oh(Ja))}catch(g){console.error("Login error:",g.code,g.message),u("Felaktig e-post eller lösenord. Försök igen.")}};return S.jsxs("div",{className:"login-container",children:[S.jsx("h2",{children:"Admin Login"}),S.jsxs("form",{onSubmit:m,children:[S.jsx("input",{type:"email",placeholder:"E-post",value:r,onChange:p=>e(p.target.value),required:!0,autoComplete:"username"}),S.jsx("input",{type:"password",placeholder:"Lösenord",value:n,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"}),o&&S.jsx("p",{className:"error",children:o}),S.jsx("button",{type:"submit",children:"Logga in"})]})]})}const gx=()=>{const[r,e]=q.useState([]),[n,s]=q.useState({title:"",date:"",time:"",location:"",description:"",link:"",image:""}),[o,u]=q.useState(null),[f,m]=q.useState({title:"",date:"",time:"",location:"",description:"",link:"",image:"",hidden:!1}),[p,g]=q.useState(!0),[E,w]=q.useState(!1),b=Zm();q.useEffect(()=>{const Z=HD(Ja,async ue=>{if(!ue){b("/admin-panel");return}try{(await iS(Wa(Gi,"admins",ue.uid))).exists()?(w(!0),g(!1)):(await oh(Ja),b("/admin-panel"))}catch(x){console.error("Admin check error:",x),await oh(Ja),b("/admin-panel")}});return()=>Z()},[b]);const M=async()=>{try{const ue=(await Up(bh(Gi,"events"))).docs.map(x=>({id:x.id,...x.data()}));ue.sort((x,R)=>new Date(x.date)-new Date(R.date)),e(ue)}catch(Z){console.error("Fetch events error:",Z)}};q.useEffect(()=>{M()},[]);const V=async Z=>{if(Z.preventDefault(),!!E)try{await B2(bh(Gi,"events"),{...n,hidden:!1}),s({title:"",date:"",time:"",location:"",description:"",link:"",image:""}),M()}catch(ue){console.error("Add event error:",ue)}},Q=Z=>{u(Z.id),m({...Z})},F=async Z=>{if(E)try{await CE(Wa(Gi,"events",Z),{...f}),u(null),M()}catch(ue){console.error("Update event error:",ue)}},$=()=>u(null),ae=async Z=>{if(E)try{await z2(Wa(Gi,"events",Z)),M()}catch(ue){console.error("Delete event error:",ue)}},re=async(Z,ue)=>{if(E)try{await CE(Wa(Gi,"events",Z),{hidden:!ue}),M()}catch(x){console.error("Toggle hidden error:",x)}},he=async()=>{try{await oh(Ja),b("/admin-panel")}catch(Z){console.error("Logout error:",Z)}};return p?S.jsx("p",{children:"Loading..."}):S.jsxs("div",{className:"admin-container",children:[S.jsx("button",{className:"admin-button logout",onClick:he,children:"Logga ut"}),S.jsx("h2",{className:"admin-title",style:{fontFamily:"'Josefin Sans', sans-serif"},children:"Hantera Evenemang"}),S.jsxs("form",{onSubmit:V,children:[S.jsx("input",{className:"admin-input",type:"text",placeholder:"Titel",value:n.title,onChange:Z=>s({...n,title:Z.target.value}),required:!0}),S.jsx("input",{className:"admin-input",type:"date",value:n.date,onChange:Z=>s({...n,date:Z.target.value}),required:!0}),S.jsx("input",{className:"admin-input",type:"text",placeholder:"Tid",value:n.time,onChange:Z=>s({...n,time:Z.target.value}),required:!0}),S.jsx("input",{className:"admin-input",type:"text",placeholder:"Plats",value:n.location,onChange:Z=>s({...n,location:Z.target.value}),required:!0}),S.jsx("textarea",{className:"admin-textarea",placeholder:"Beskrivning",value:n.description,onChange:Z=>s({...n,description:Z.target.value}),required:!0}),S.jsx("input",{className:"admin-input",type:"text",placeholder:"Länk",value:n.link,onChange:Z=>s({...n,link:Z.target.value})}),S.jsx("input",{className:"admin-input",type:"text",placeholder:"Bild-URL",value:n.image,onChange:Z=>s({...n,image:Z.target.value})}),S.jsx("button",{type:"submit",className:"admin-button",children:"Lägg till event"})]}),S.jsx("h3",{children:"Befintliga event"}),S.jsx("ul",{className:"admin-event-list",children:r.map(Z=>S.jsx("li",{className:"admin-event-item",children:o===Z.id?S.jsxs("div",{style:{width:"100%"},children:[S.jsx("input",{className:"admin-input",type:"text",value:f.title,onChange:ue=>m({...f,title:ue.target.value})}),S.jsx("input",{className:"admin-input",type:"date",value:f.date,onChange:ue=>m({...f,date:ue.target.value})}),S.jsx("input",{className:"admin-input",type:"text",value:f.time,onChange:ue=>m({...f,time:ue.target.value})}),S.jsx("input",{className:"admin-input",type:"text",value:f.location,onChange:ue=>m({...f,location:ue.target.value})}),S.jsx("textarea",{className:"admin-textarea",value:f.description,onChange:ue=>m({...f,description:ue.target.value})}),S.jsx("input",{className:"admin-input",type:"text",value:f.link,onChange:ue=>m({...f,link:ue.target.value})}),S.jsx("input",{className:"admin-input",type:"text",value:f.image,onChange:ue=>m({...f,image:ue.target.value})}),S.jsxs("label",{style:{display:"block",margin:"10px 0",color:"#5a4c3e"},children:[S.jsx("input",{type:"checkbox",checked:f.hidden,onChange:ue=>m({...f,hidden:ue.target.checked})})," Dölj event"]}),S.jsx("button",{className:"admin-button",onClick:()=>F(Z.id),style:{marginRight:"10px"},children:"Spara"}),S.jsx("button",{className:"admin-button",onClick:$,children:"Avbryt"})]}):S.jsxs(S.Fragment,{children:[Z.image&&S.jsx("img",{src:Z.image,alt:Z.title,className:"admin-event-image"}),S.jsxs("div",{style:{flexGrow:1},children:[S.jsxs("p",{className:"admin-event-name",children:[Z.date," ",Z.time?"• "+Z.time:""," • ",Z.title]}),S.jsxs("p",{style:{margin:"3px 0",fontSize:"0.95em",color:"#5a4c3e"},children:[Z.location&&S.jsxs("span",{children:[Z.location," • "]}),Z.description.length>100?Z.description.substring(0,100)+"...":Z.description]})]}),S.jsxs("div",{className:"admin-event-buttons",children:[S.jsx("button",{onClick:()=>Q(Z),children:"Redigera"}),S.jsx("button",{onClick:()=>ae(Z.id),children:"Ta bort"}),S.jsx("button",{onClick:()=>re(Z.id,Z.hidden),children:Z.hidden?"Visa":"Dölj"})]})]})},Z.id))})]})},yx="/MMV/assets/headerlok-_8HAEe2B.png",_x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAeklEQVR4AeyTzQmAMBSD3+tkHu0WIh3AVTz7s0aPjqYITS69pkLBQgjk8BFSXrBG7wdz2PZT5H2+FULl9o1jOl2h7xrnbRoUqht7uEyhQubnufniAhWuETymY1WoAiNQORsrjuNloBjBCFROcOzuQFQTgMMpEKi8P/ADAAD///fr3nsAAAAGSURBVAMAJWXqLY7ceroAAAAASUVORK5CYII=",vx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAABx0lEQVR4AcSTsVLCQBCG9w51sNPSzlI77WitJMNY+AQmIQNaSekrWKmVgiHkDSwcDaWddNppZ2snnRRy8RaSY3McgcbxJsttdv/7Zjd7cPij9T/grl89jXw3Nth35FeP8po1VnzftLciCYwhvpxxuAgQh6iJru1Nk2YKHLVce6nA30xiY2yZfzzeug09lwE/tOwd4NDRRfPeGYML7JLqMmDO+QtNArAnmL26NKV3qcA4KCoEYD3La++JgtgAbQ0KYt3yAkuGM/DIr9ZlbPQo8PSg4hIOpuKEnxSO0EMn7N917DVJKEsjz2TYCkyyE1cOhsIptDjkXxOh8uRtGfv5YNQQeFrpDCiqlc0HS+mgCH1I1gqAqioJGbe5YNo+/SxGGgnmgil01D75LHSghKdcBWbAzlR07HSN35TA5d+6N5amv+w49RS47LXP02CylyPfjUaVJgG1Idx3ngFYCciS976ZviowBvhQbONOTLunJKNBhRC7NJsB79fDdyHghAoW8gU4lVr4SrUZMCYqteDGUDmmjPYju7RqQagnp8AowMotL2A51Q/ksBuoOZBd4hndjOBUhNXjYYOtlr32Vaoz7blg04FFY78AAAD//5tf/EQAAAAGSURBVAMA+nnNLT8SOwQAAAAASUVORK5CYII=",Ex=()=>{const[r,e]=q.useState(!1),n=()=>{e(!r)};return S.jsx("header",{className:"lokstallet-header",children:S.jsxs("div",{className:"header-inner",children:[S.jsx("img",{src:yx,alt:"Lokstallet logo",className:"header-logo"}),S.jsxs("div",{className:"header-right",children:[S.jsx("button",{className:"ham-icon",onClick:n,"aria-label":"Toggle menu",children:S.jsx("img",{src:r?vx:_x,alt:r?"Close menu":"Open menu",className:"ham-icon-img"})}),S.jsxs("ul",{className:"social-icons",children:[S.jsx("li",{children:S.jsx("a",{href:"https://www.facebook.com/lokstallet.skovde",title:"Facebook",children:S.jsx("i",{className:"fab fa-facebook"})})}),S.jsx("li",{children:S.jsx("a",{href:"https://www.instagram.com/lokstallet.skovde/",title:"Instagram",children:S.jsx("i",{className:"fab fa-instagram"})})})]})]}),S.jsx("nav",{className:`hero-nav ${r?"open":""}`,children:S.jsxs("ul",{className:"links",children:[S.jsx("li",{children:S.jsx(Us,{to:"/lokstallet",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Home"})}),S.jsx("li",{children:S.jsx(Us,{to:"/boka-lokstallet",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Boka Lokstallet"})}),S.jsx("li",{children:S.jsx(Us,{to:"/evenemang-lokstallet",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Evenemang & Biljetter"})}),S.jsx("li",{children:S.jsx(Us,{to:"/lokaler",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Lokstallets lokaler"})}),S.jsx("li",{children:S.jsx(Us,{to:"/historia",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Historia"})}),S.jsx("li",{children:S.jsx(Us,{to:"/kontakt-lokstallet",end:!0,onClick:()=>e(!1),className:({isActive:s})=>s?"active":"",children:"Kontakt"})})]})})]})})};function Tx(){return S.jsxs("footer",{className:"lokstallet-footer",children:[S.jsxs("div",{className:"lokstallet-footer-container",children:[S.jsx("div",{className:"lokstallet-footer-logo-container",children:S.jsx("img",{src:jS,alt:"Lokstallet Logo",className:"lokstallet-logo-fot"})}),S.jsxs("div",{className:"lokstallet-footer-section",children:[S.jsx("h3",{children:"Om Lokstallet"}),S.jsx("p",{children:"Lokstallet är en unik lokal för evenemang, fester och minnesvärda stunder. Vi erbjuder en personlig och flexibel miljö som passar både små och stora sällskap. Välkommen att boka och skapa oförglömliga minnen hos oss."})]}),S.jsxs("div",{className:"lokstallet-footer-section",children:[S.jsx("h3",{children:"Kontakt"}),S.jsxs("p",{children:["Adress:",S.jsx("br",{}),"Drottninggatan 17",S.jsx("br",{}),"541 51 Skövde",S.jsx("br",{}),"E-post: ",S.jsx("a",{href:"mailto:info@lokstallet.se",children:"info@lokstallet.se"})]})]}),S.jsxs("div",{className:"lokstallet-footer-section",children:[S.jsx("h3",{children:"Följ oss"}),S.jsxs("ul",{className:"lokstallet-social-icons",children:[S.jsx("li",{children:S.jsx("a",{href:"https://www.facebook.com/lokstallet.skovde",title:"Facebook",children:S.jsx("i",{className:"fab fa-facebook"})})}),S.jsx("li",{children:S.jsx("a",{href:"https://www.instagram.com/lokstallet.skovde/",title:"Instagram",children:S.jsx("i",{className:"fab fa-instagram"})})})]})]})]}),S.jsx("p",{children:"© 2025 Lokstallet. Musik • Evenemang • Möten"})]})}function Ls({children:r}){return S.jsxs(S.Fragment,{children:[S.jsx(Ex,{}),S.jsx("main",{children:r}),S.jsx(Tx,{})]})}function Sx(){return S.jsx(V1,{children:S.jsxs(h1,{children:[S.jsx(oi,{path:"/",element:S.jsx(Ls,{children:S.jsx(YE,{})})}),S.jsx(oi,{path:"/lokstallet",element:S.jsx(Ls,{children:S.jsx(YE,{})})}),S.jsx(oi,{path:"/boka-lokstallet",element:S.jsx(Ls,{children:S.jsx(rx,{})})}),S.jsx(oi,{path:"/evenemang-lokstallet",element:S.jsx(Ls,{children:S.jsx(sx,{})})}),S.jsx(oi,{path:"/lokaler",element:S.jsx(Ls,{children:S.jsx(ux,{})})}),S.jsx(oi,{path:"/historia",element:S.jsx(Ls,{children:S.jsx(dx,{})})}),S.jsx(oi,{path:"/kontakt-lokstallet",element:S.jsx(Ls,{children:S.jsx(mx,{})})}),S.jsx(oi,{path:"/admin-panel",element:S.jsx(px,{})}),S.jsx(oi,{path:"/admin",element:S.jsx(gx,{})})]})})}const Ax=Eb.createRoot(document.getElementById("root"));Ax.render(S.jsx($E.StrictMode,{children:S.jsx(Sx,{})}));
